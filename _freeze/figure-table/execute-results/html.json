{
  "hash": "0eaaa6962fd9eb35b7dba82807cb9463",
  "result": {
    "engine": "knitr",
    "markdown": "---\necho: false\n---\n\n# Figures and tables {#sec-figures-and-tables}\n\n\n\n## Overview\n\nIn @sec-authoring you learned the markdown syntax to include image files and markdown tables.\nIn this chapter, images and tables are now the result of executable code cells.\n\nFigures and tables are one of the most common outputs from executable cells,  and they benefit from some of the biggest advantages to being computationally generated:\n\n- They are always up to date\n- You can change labelling, styling, colors etc. right in document source\n- File formats, and file paths are handled by Quarto, not you\n\nIn @sec-figtab-basic, you'll start by learning how to use code cell options to produce syntax like you learned in @sec-authoring, including how to add captions, labels, and alternative text.\nFollowed by a quick reference of common code cell options for figures and tables in @sec-figtab-code-cell-options.\n\nThen you'll cover some of the most common tasks that apply to both figures and tables, and regardless of the computational engine you are using:\n\n* Cross-references: Create numbered figures and tables that can be referenced throughout your document using Quarto's cross-reference syntax.\n\n* Fenced div syntax: An alternative approach to adding captions and labels to computational figures and tables that separates content generation from labelling and captioning. \n\n* Multiple figures or tables: Handling code cells that produce multiple figures or tables, including sub-captions and layout control.\n\n* Position: Controlling where your figures and tables appear on the page or in slides.\n\nNext, in the Figures (@sec-figtab-figures) and Tables (@sec-figtab-figures) you'll learn about options specific to each type of output: \n\n- Figure  size, format, resolution, and alignment, and where the `knitr` and `jupyter` engines differ\n- Table format and controlling column widths and alignment.\n\nFinally, in @sec-figtab-troubleshooting you'll some tips for diagnosing and fixing common issues with computational figures and tables.\n\n::: {.callout-tip}\n\n## Common questions about figures and tables\n\nTODO: revisit and link each to this chapter or advanced chapter\n\nHow do I :\n\n* Cross-reference my figure/table \n\n* Change the position of the figure/table\n\n* Arrange multiple figures and/or tables in a single panel\n\n* Change the format or location of the caption\n\n* Control the size or aspect ratio of my figure\n\n* Control the styling of my table \n\n* Troubleshoot the table or figure output from a particular package\n\n::: \n\n### The examples in this chapter\n\nWe wanted authentic examples of figures and tables generated by code in this chapter.\nHowever, the focus of this chapter isn't on the code, and we don't want it to distract you.\nTo balance those objectives we've selected a small number of examples that we'll repeat throughout the chapter.\nThese examples are designed to be almost identical between R and Python, \nbut this means they are created with a very limited set of packages (ggplot2 and GT in R, and plotnine and great_tables in Python).\n\nWe've provided examples in both R and Python so you can reproduce them in your favorite language.\nThe concepts you are learning are language (and package) agnostic, \nso while the executable code is different,\nthe code cell options, and markdown syntax are identical.\n\nThe code to generate the example figures and tables is shown without any other context.\nIf you want to recreate them, you'll need the setup code as shown in @fig-setup.\nWe also show the rendered examples without a code echo, i.e. we set `echo: false` in our document header:\n\n```{.yaml filename=\"document.qmd\"}\n---\necho: false\n---\n```\n\n::: {#fig-setup}\n\n:::{.panel-tabset}\n\n## R\n\n````{.r filename=\"setup.R\"}\nlibrary(tidyverse)\nlibrary(gt)\nlibrary(palmerpenguins)\n\ntheme_set(theme_classic())\n\npenguin_colors <- c(\n  Adelie = \"#FF8C00\",\n  Chinstrap = \"#A020F0\",\n  Gentoo = \"#008B8B\"\n)\n\npenguins <- penguins |>\n  drop_na(bill_depth_mm)\n\n````\n\n## Python\n\n```{.python filename=\"setup.py\"}\nimport polars as pl\nfrom plotnine import *\nfrom great_tables import GT\nfrom palmerpenguins import load_penguins\n\ntheme_set(theme_classic())\n\npenguin_colors = {\n    'Adelie': '#FF8C00',\n    'Chinstrap': '#A020F0',\n    'Gentoo': '#008B8B'\n}\n\npenguins = load_penguins()\npenguins = (pl.DataFrame(penguins)\n    .drop_nulls(\"bill_depth_mm\"))\n\n```\n\n:::\n\nCode required before executing the examples in this chapter\n\n:::\n\n\n## Figure and table basics {#sec-figtab-basic}\n\nIf the output of an executable code cell is a figure or a table, Quarto will automatically include it in the rendered document.\nFor example, in @fig-figure-quick the code cell produces a figure.\n\n::: {#fig-figure-quick}\n\n::: {.panel-tabset group=\"language\"}\n\n## R\n\n````{.markdown}\nSome text before the code cell.\n\n```{{r}}\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n\nSome text after the code cell.\n````\n\n## Python\n\n````{.markdown}\nSome text before the code cell.\n\n```{{python}}\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n```\n\nSome text after the code cell.\n````\n\n:::\n\nA document with an executable code cell that produces a figure\n\n:::\n\nWhen the document is rendered that figure appears right where the code cell was (@fig-quick-start-figure).\n\n![A rendered document with a figure produced by a code cell](images/figure-table-quick-start-figure.png){#fig-quick-start-figure .border fig-alt=\"Screenshot of Quarto HTML document with a scatterplot shown below the line of text 'Some text before the code cell' and above the line of text 'Some text after the code cell'.\"}\n\nFor non-computational figures and tables, additional context, like a caption or identifier, is added via markdown syntax.\nFor computational figures and tables, additional context is added via code cell options.\n\nThe most common options are:\n\n*  `label`: The ID for the resulting figure/table. You must omit the `#`. \n    If the label starts with `fig-` or `tbl-`, the figure or table will be numbered, and can be cross-referenced. \n\n*  `fig-cap`/`tbl-cap`: The caption for the resulting figure/table. \n    Use standard YAML syntax for long strings (@sec-yaml-long-strings) if you need to break across lines, but ensure each line starts with `#|`. (TODO: Currently not true for `jupyter` engine. Check on state of <https://github.com/quarto-dev/quarto-cli/issues/11290>)\n\n*  `fig-alt`: Alternative text for the resulting figure. There is no `tbl` equivalent, because tables are text-based and generally accessible to screen readers.\n\nFor example, @fig-figures uses the same code as @fig-figure-quick but adds an identifier, caption, and alternative text with code cell options.\n\n::: {#fig-figures}\n\n::: {.panel-tabset group=\"language\"}\n\n## R\n\n````{.markdown}\n```{{r}}\n#| label: fig-scatter\n#| fig-cap: \"Penguin bill length versus depth by species\"\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n````\n\n## Python\n\n````{.markdown}\n```{{python}}\n#| label: fig-scatter\n#| fig-cap: \"Penguin bill length versus depth by species\"\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n```\n````\n\n:::\n\nBasic code cell options used to add an identifier (`label`), caption (`fig-cap`) and alternative text (`fig-alt`) to a computational figure.\n\n:::\n\nThe rendered result is shown in @fig-basic-cell-options-figure.\nThe caption here is prefaced by \"Figure 1:\" because the label started with `fig-`, the signal that this is a cross-referenceable figure. \n\n![Example output when @fig-figures is rendered](images/figure-table-basic-cell-options-figure.png){#fig-basic-cell-options-figure fig-alt=\"\"}\n\n@fig-tables demonstrates the same concept for tables.\nTo caption a table use the `tbl-cap` option, \nand start the label with `tbl-` to make it cross-referenceable.\n\n\n::: {#fig-tables}\n\n::: {.panel-tabset group=\"language\"}\n\n## R\n\n````{.markdown}\n```{{r}}\n#| label: tbl-species-count\n#| tbl-cap: \"Number of penguins sampled from each species in the Palmer Archipelago\"\n\npenguins |>\n  count(species) |>\n  gt()\n\n```\n````\n\n## Python\n\n````{.markdown}\n```{{python}}\n#| label: tbl-species-count\n#| tbl-cap: \"Number of penguins sampled from each species in the Palmer Archipelago\"\n\n(\n  pl.DataFrame(penguins)\n .group_by('species')\n .len()\n .pipe(GT)\n)\n\n```\n````\n\n:::\n\nBasic code cell options used to add an identifier (`label`) and caption (`tbl-cap`) for a computational table.\n\n:::\n\nThe result is shown in @fig-basic-cell-options-table.\nThe table caption is prefaced by \"Table 1:\" because `label` started with `tbl-`, the signal that this is a cross-referenceable table.\n\n![Example output when @fig-tables is rendered](images/figure-table-basic-cell-options-table.png){#fig-basic-cell-options-table fig-alt=\"Rendered table with caption above it 'Table 1: Number of penguins sampled from each species in the Palmer Archipelago'.\"}\n\n\n## Code cell options {#sec-figtab-code-cell-options}\n\n@tbl-figtab-ref below summarizes the basic cell options covered in @sec-figtab-basic along with other commonly used code cell options for figures and tables.\nFor each option, we indicate whether it is also a *document option* (☑ in the Document Option column), and where in this chapter you can learn more.\n\nSome options we delay until @sec-adv-figures-and-tables.\n\nWe only list options common to both the `knitr` and `jupyter` engines.\nUse the [Quarto code cell reference](https://quarto.org/docs/reference/cells/) for full list of available options.\n\n\n| Option | Document Option | Description | Reference |\n|--------|-----------------|-------------|-----------|\n|`label` | | ID for output, also used for cross-references. | @sec-figtab-basic, start with `tbl` or `fig` to number and cross-reference, see @sec-figtab-crossrefs. |\n| `fig-cap` | | Caption for figure                          | @sec-figtab-basic |\n| `tbl-cap` | | Caption for table                           | @sec-figtab-basic |\n| `fig-alt` | | Alternative text description of the figure  | @sec-figtab-basic |\n| `fig-subcap` | | Sub-captions for multiple figures produced in a single code cell | @sec-multiple-figures-tables |\n| `tbl-subcap` | | Sub-captions for multiple tables produced in a single code cell |@sec-multiple-figures-tables  |\n| `layout-ncol`/ `layout-nrow` | | Number of columns when arranging multiple figures or tables in a single panel | Mentioned in @sec-multiple-figures-tables. See also @sec-layout and @sec-advanced-layout. |\n| `column` | | Place figure or table in a specific column relative to page | See @sec-page-location-column. Also `fig-column` and `tbl-column`. |\n| `output-location` | | Place figure or table in a specific location relative to slide | See @sec-output-location. |\n| `fig-width` / `fig-height` **`knitr` engine only** | ☑ | Size of figure in inches | @sec-figure-size includes options for `jupyter` engine |\n| `fig-align`| ☑ | Alignment of figures in their surrounding container | @sec-fig-align |\n| `tbl-colwidths` | ☑ | Column widths for markdown tables | See @sec-tbl-colwidths. |\n| `layout` | | Layout specification when arranging multiple figures or tables in a single panel | See @sec-layout and @sec-advanced-layout.  |\n| `layout-align` / `layout-valign` | | Alignment when arranging multiple figures or tables in a single panel | @sec-advanced-layout |\n| `cap-location` / `fig-cap-location` /  `tbl-cap-location` | ☑ | Location of caption relative to figure or table | See @sec-caption-location.\n\n: Commmon code cell options for figures and tables {#tbl-figtab-ref tbl-colwidths=\"[25,5,40,30]\"}\n\n\n## Cross-references {#sec-figtab-crossrefs}\n\nTo cross-reference a computational figure or table you need to:\n\n1. Label your figure or table in a way that Quarto recognizes as a cross-reference, this means using a label that starts with `fig-` or `tbl-`.\n\n2. Refer to your figure or table using the syntax `@LABEL`.\n\nThe two examples in @sec-figtab-basic, @fig-tables and @fig-figures,  used the labels `tbl-species-count` and `fig-scatter`. \nTo refer to these outputs you could use, for example,:\n\n```{.markdown .code-overflow-wrap}\nMost penguins were Adelie (@tbl-species-count). @fig-scatter shows quite distinct clustering of the three species in bill length versus depth.\n```\n\nWhen rendered the cross-references are replaced with the figure or table identifier and become links. \n\n![](images/figure-table-cross-references-link.png)\n\nSee other cross-reference types in @sec-crossreferences.\n\n## The fenced div syntax {#sec-figtab-fenced-div}\n\nAs an alternative to setting the `label` and `fig-cap`/`tbl-cap` code cell options, you can use Quarto's fenced div syntax to organize your computational figures and tables. \nThis approach separates the content generation from the labeling and captioning.\nThis can be useful in certain scenarios, two of which we'll explore in this section: long captions and dynamic captions.\n\nThe basic structure uses a fenced div with the `label` as an identifier, followed by a code cell that generates your content, and ends with the caption as the last line: \n\n````{.markdown}\n::: {#LABEL}\n```{{LANGUAGE}}\n# Generate your figure or table here\n```\n\nCAPTION\n\n:::\n````\n\n::: callout-note\n\n## Fenced div syntax only works with cross-referenceable figures and tables\n\nTo be processed as content along with a caption, the label used in the fenced div must start with a prefix recognized by Quarto's cross-reference syntax. \nFor computational figures and tables this usually means starting with `fig-` or `tbl-`.\n\n:::\n\n@fig-fenced-div shows how the same figure from @fig-figures would look using the fenced div approach.\nThe `label` code cell becomes an identifier for the fenced div (`#fig-scatter`),\nthe code cell no longer has `label` or `fig-cap` options,\nand the caption is the last line before the closing of the fenced div.s\n\n::: {#fig-fenced-div}\n::: {.panel-tabset group=\"language\"}\n\n## R\n\n````{.markdown}\n::: {#fig-scatter} \n```{{r}} \n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n\nPenguin bill length versus depth by species\n\n:::\n````\n\n## Python\n\n````{.markdown}\n::: {#fig-scatter}\n```{{python}}\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n```\n\nPenguin bill length versus depth by species\n\n:::\n````\n\n:::\n\nUsing the fenced div syntax to acheive the same result as @fig-figures.\n\n:::\n\nTwo examples of when this can be useful are: long captions, and dynamic captions.\n\n### Long captions\n\nIf your caption is getting long and it is increasingly painful to track as a code cell option, consider using the div syntax instead.\nYou can then split lines in a way that makes sense and not have to worry about the YAML syntax.\n\n::: {#fig-long-captions}\n\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n::: {#fig-scatter}\n\n```{{r}}\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n\nScatter plot depicting the relationship between bill length (mm) and bill depth (mm) across different penguin species. \nThe clustering of the species reveals morphological differences in bill dimensions: \n**Adelie** penguins have short, deep bills,\nwhereas **Gentoo** penguins have long, shallow bills.\n**Chinstrap** penguins have similar depth bills to Adelie penguins but there bills are longer.\n\n:::\n````\n \n## Python\n \n````{.markdown}\n::: {#fig-scatter}\n\n```{{python}}\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n```\n\nScatter plot depicting the relationship between bill length (mm) and bill depth (mm) across different penguin species. \nThe clustering of the species reveals morphological differences in bill dimensions: \n**Adelie** penguins have short, deep bills,\nwhereas **Gentoo** penguins have long, shallow bills.\n**Chinstrap** penguins have similar depth bills to Adelie penguins but there bills are longer.\n\n::: \n````\n \n:::\n\n:::\n\n:::{.callout-important}\n\n## No multi-paragraph captions\n\nQuarto doesn't support captions that consist of multiple paragraphs.\n\n:::\n\n### Dynamic captions\n\nDynamic captions are caption which depend on some computational result.\nBy using the fenced div syntax, you include computation in your caption via inline code execution.\n\nFor example, @fig-dynamic-captions, uses inline code to include the number of rows in the `penguins` dataset in the caption.\n\n::: {#fig-dynamic-captions}\n\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n::: {#fig-scatter}\n\n```{{r}}\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n\nPenguin bill length versus depth by species for `{{r}} nrow(penguins)` penguins.\n\n:::\n````\n \n## Python\n \n````{.markdown}\n::: {#fig-scatter}\n\n```{{python}}\n#| fig-alt: \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n```\n\nPenguin bill length versus depth by species `{{python}} penguins.height` penguins.\n\n::: \n````\n \n:::\n\n:::\n\n\n## Multiple figures or tables {#sec-multiple-figures-tables}\n\nIf your code cell produces more than one figure, or more than one table,\nyou can give the individual figures or tables sub-captions by providing an array to `fig-subcap`, or `tbl-subcap`, respectively.\n\nFor example, @fig-multiple-figures, produces two figures in a single code cell, and thus provides an array of two values to both `fig-subcap` and `fig-alt`.\n\n::: {#fig-multiple-figures}\n\n:::{.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n```{{r}}\n#| label: fig-scatter\n#| fig-cap: Physical dimensions of penguins\n#| fig-alt: \n#|   - \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n#|   - \"Scatter plot of flipper length vs. body mass showing a strong positive relationship.\"\n#| fig-subcap: \n#|   - \"Penguin bill length versus depth by species\"\n#|   - \"Penguin flipper length versus body mass by species\"\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n\npenguins |>\n  ggplot(aes(x = body_mass_g, y = flipper_length_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Body Mass (g)\", y = \"Flipper Length (mm)\")\n\n````\n \n## Python\n \n````{.markdown}\n```{{python}}\n#| label: fig-scatter\n#| fig-cap: Physical dimensions of penguins\n#| fig-alt: \n#|   - \"Scatter plot of bill length vs. depth showing distinct species clustering.\"\n#|   - \"Scatter plot of flipper length vs. body mass showing a strong positive relationship.\"\n#| fig-subcap: \n#|   - \"Penguin bill length versus depth by species\"\n#|   - \"Penguin flipper length versus body mass by species\"\n\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n\n(\n    ggplot(penguins, aes(x=\"body_mass_g\", y=\"flipper_length_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Body Mass (g)\", y=\"Flipper Length (mm)\")\n)\n\n````\n \n:::\n\nAn example of a code cell that produces two figures. Individual figure captions are provided as an array to  `fig-subcap`, and alternative text descriptions are provided as an array to `fig-alt`.\n\n:::\n\n![Result of rendering,  @fig-multiple-figures, a code cell with multiple figures.](images/figure-table-multiple-figures.png){#fig-multiple-figures-rendered fig-alt=\"Two scatterplots one above the other. Each plot has a caption prefaced by '(a)' and '(b)' respectively. The overall caption is 'Figure 1: Physical dimensions of penguins'.\"}\n\nWhen rendered, the figures are placed together in a single \"Figure\" where the overall caption is provided by `fig-cap` and prefaced by \"Figure 1:\".\nEach individual figure in the panel has its own sub-caption prefaced by \"(a)\" and \"(b)\".\nYou can cross reference the entire panel with the `label`, e.g. `@fig-scatter`, or individual figures by appending an index, e.g.  `@fig-scatter-1` and `@fig-scatter-2`.\n\nSimilarly, @fig-multiple-tables shows a code cell that produces two tables, with sub-captions provided via `tbl-subcap`.\nThe rendered output is shown in @fig-multiple-tables-rendered. \nJust like multiple figures, multiple tables get an overall caption from `tbl-cap`, and individual captions from `tbl-subcap`. \n\n::: {#fig-multiple-tables}\n\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n```{{python}}\n#| label: tbl-species-count\n#| tbl-cap: \"Number of penguins sampled from each species in the Palmer Archipelago\"\n#| tbl-subcap: \n#|   - \"Total\"\n#|   - \"By year\"\n\npenguins |>\n  count(species) |>\n  gt()\n\n\npenguins |>\n  count(species, year) |>\n  pivot_wider(names_from = year, values_from = n) |>\n  gt() |>\n  cols_label(\n    species = \"Species\"\n  )\n\n``` \n````\n \n## Python\n \n````{.markdown}\n```{{python}}\n#| label: tbl-species-count\n#| tbl-cap: \"Number of penguins sampled from each species in the Palmer Archipelago\"\n#| tbl-subcap: \n#|   - \"Total\"\n#|   - \"By year\"\n\n(\n  pl.DataFrame(penguins)\n .group_by('species')\n .len()\n .pipe(GT)\n)\n\n\n(\n  pl.DataFrame(penguins)\n .group_by(['species', 'year'])\n .count()\n .pivot(index='species', columns='year', values='count')\n .pipe(GT)\n .cols_label(\n     species=\"Species\"\n )\n)\n\n``` \n````\n \n:::\n\nAn example of a code cell that produces two tables. Individual table captions are provided as an array to  `tbl-subcap`.\n\n:::\n\n![Result of rendering,  @fig-multiple-tables, a code cell with multiple figures.](images/figure-table-multiple-tables.png){#fig-multiple-tables-rendered fig-alt=\"Two tables, one above the other. Each table has a caption prefaced by '(a)' and '(b)' respectively. The overall caption is 'Table 1: Number of penguins sampled from each species in the Palmer Archipelago'.\"}\n\nOften the use of `fig-subcap` or `tbl-subcap` is combined with layout options to arrange the multiple figures or tables in a panel in a specific way.\nFor example, the `layout-ncol` code cell option will arrange the figures or tables in a specified number of columns. \nIn both examples above, adding the code cell option `layout-ncol: 2` would result in the figures or tables being laid out side-by-side rather than one above the other.\n\nUsing `fig-subcap` or `tbl-subcap` is a quick way to create multi-panel figures or tables, but as soon as you want some combination of: individual captions, a mix of figures and tables, to control placement on the page, or individual cross-references, we recommend using a single code cell for each output, and using the fenced divs syntax (@sec-figtab-fenced-div) to label, caption and arrange them. \nYou can learn more about this approach in @sec-adv-figures-and-tables.\n\n## Position\n\nFigures and tables appear in your document where the code cell is located, \nand occupy the same width as the body text.\nFor some formats you can alter this with code cell options.\n\nThe most useful options are:\n\n* `column`: for `html` and `pdf` formats, controls the width and horizontal position of the output in relation to the body text.\n\n* `output-location`: for `revealjs` presentations, controls whether the output appears in another column, or slide, and whether is appears only after a slide advance.\n\n### Page location: `column` {#sec-page-location-column}\n\nIn `html` and `pdf` formats, a page is divided into columns, which contain the main body of the document, a margin on the right, and in `html`, a margin on the left often used for a sidebar.\n\nSpecial `.column-` classes allow document elements to span various combinations of these columns. \nThe `column` code cell option is a way to apply these classes to figures or tables produced by your code cells.\n\nFor example, if you have a figure that would benefit from more horizontal space, you could set `column: screen` (@fig-page-columns-code), to allow the figure to span the full width available.\nAlternatively, for figures that are small and supplementary to the main text, you could set `column: margin` to place them in the margin area.\n@fig-page-columns shows the result in the resulting `html` output.\n\n::: {#fig-page-columns-code}\n::: {.panel-tabset group=\"language\"}\n\n## R\n\n````markdown\n```{{r}}\n#| column: screen\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n````\n \n## Python\n \n```` \n```{{python}}\n#| column: screen\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n````\n\n:::\n:::\n\n\n\n::: {#fig-page-columns layout-ncol=\"2\"}\n\n![`column: screen`](images/figure-table-column-screen.png){#fig-page-columns-screen}\n\n![`column: margin`](images/figure-table-column-margin.png){#fig-page-columns-margin}\n\nUse the `column` code cell option to place a table in different parts of the page, e.g. full width of the screen, or in the margin. Applies for `html` and `pdf` formats.\n\n::: \n\nYou can find all the possible values for `column` in the Quarto documentation on [Article Layout](https://quarto.org/docs/authoring/article-layout.html#available-columns).\n\n::: {.callout-tip}\n\n## Columns are responsive in `html` output\n\nWhen you view the HTML output, the definition of the columns depends on your screen size.\nFor example, on small screens, there is only one column, regardless of `column` all elements will span the full width of the screen.\n\n:::\n\n\n### Slide location: `output-location` {#sec-output-location}\n\nFor presentations with `format: revealjs` the `output-location` code cell option controls where the figure or table appears in relation to the slide containing the code cell that created it.\n\nFor example, @fig-output-location uses `output-location: slide` to put a figure on the slide following the code cell. \n\n::: {#fig-output-location}\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n```{{r}}\n#| echo: true\n#| output-location: slide\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n``` \n````\n \n## Python\n \n````{.markdown}\n```{{python}}\n#| echo: true\n#| output-location: slide\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n``` \n````\n \n:::\n\nUse `output-location: slide` to place a figure on the slide following the code cell that created. Applies to `format: revealjs` presentations.\n:::\n\nOther values for `output-location` include: \n\n* `fragment`: place the output on the same slide, but only show it after a slide advance.\n* `column`: place the output in a separate column on the same slide.\n* `column-fragment`: place the output in a separate column on the same slide, but only show it after a slide advance.\n\nYou can read more about these options in the Quarto documentation on [RevealJS presentations](https://quarto.org/docs/presentations/revealjs/#output-location).\n\n## Figures {#sec-figtab-figures}\n\nIn this section you'll learn about figure-specific options: **figure size**, **format and resolution**, and **alignment**. Some of these controls are *document options* (set in your document header and applied to all figures), some are *code cell options* (applied to individual code cells), and others need to be configured directly in your plotting code. We'll use *emphasis* to highlight when an option is a document-level setting versus a code cell option. \n\n### Default figure size\n\nThe *document options* `fig-width` and `fig-height` control the default size of figures produced by all the code cells in a document. \n\nHow these values are applied depends on the engine:\n\n* `knitr`: the values are passed along to the graphics device, and thus apply regardless of the package you use to create the plots.\n* `jupyter`: the values are used to set the default figure size for matplotlib. \n    Many popular plotting packages, including seaborn, depend on matplotlib, and will respect these defaults.\n    Other packages may not respect matplotlib defaults, like plotnine, but have themselves implemented something to use and respect the  environment variables Quarto sets `QUARTO_FIG_WIDTH` and `QUARTO_FIG_HEIGHT`.\n\nThe default values are format specific.\nFor example, the default figure size for `format: html` is 7x5 inches, \nwhich is different to that for `format: pdf` at 5.5x3.5 in.\n\nYou can override these defaults using `fig-width` and `fig-height` *document options*.\nFor example, @lst-fig-width-height shows how to set the default figure size to 4x6 in for `html` output.\n\n::: {#lst-fig-width-height}\n\n```{.yaml filename=\"document.qmd\"}\n---\nformat:\n  html:    \n    fig-width: 4\n    fig-height: 6\n---\n```\n\nUse the `fig-width` and `fig-height` document options to set the default figure size for a target output format.\n\n:::\n\nSet `fig-width` and `fig-height` at the top-level (i.e. not nested under a format) to apply to all formats.\nYou could also set `fig-width` and `fig-height` in `_quarto.yml` to apply to all documents in a project.\n\n### Custom figure size {#sec-figure-size}\n\nThe defaults set by the document options will apply to all code cells. \nHowever, you often want to customize figure sizes, and aspect ratios, for individual plots.\nHow you do this depends on the engine. \n\n#### `knitr`\n\nIn `knitr` use the *code cell options* `fig-width`, `fig-height`\n\n::: {#lst-figure-size}\n````{.markdown}\n```{{r}}\n#| fig-width: 4\n#| fig-height: 6\n\npenguins |>\n  ggplot(aes(x = island, fill = species)) +\n  geom_bar(position = \"stack\") +\n  scale_fill_manual(values = penguin_colors) +\n  labs(x = \"Species\", y = \"Count\")\n\n```\n````\n\nWhen using the `knitr` engine, use the code cell options `fig-width` and `fig-height` to customize figure size for individual plots.\n\n:::\n\n\n#### `jupyter` \n\nThere are no `fig-width` or `fig-height` code cell options for the `jupyter` engine.\nYou need to set the figure size in the code itself.\nThis will depend on the plotting package you are using.\n\nFor plotting packages that use matplotlib and respect its defaults, you can set figure sizes using matplotlib directly.\n\nFor example, @lst-seaborn-figure shows code to create a scatterplot of the `penguins` data using [seaborn](https://seaborn.pydata.org). \nWith no further adjustment the size of the figure will reflect the default `fig-height` and `fig-width` document options.\n\n::: {#lst-seaborn-figure}\n````markdown\n```{{python}}\nimport seaborn as sns\npenguins = sns.load_dataset(\"penguins\")\nsns.scatterplot(data=penguins, x=\"bill_length_mm\", y=\"bill_depth_mm\", hue=\"species\")\n```\n````\n\nCode to create seaborn plot of its own `penguins` data. \n\n:::\n\nTo change the size of the figure you change the matplotlib default plot size using `rcParams`. \nThis mimics the way the `jupyter` engine sets the default plot sizes and will apply to all plots created in subsequent code cells. \n\n::: {#lst-seaborn-figure-rcparams}\n````markdown\n```{{python}}\nimport matplotlib as mpl\nmpl.rcParams['figure.figsize'] = (8, 4)\n\nsns.scatterplot(data=penguins, x=\"bill_length_mm\", y=\"bill_depth_mm\", hue=\"species\")\n```\n````    \n\nUse matlplotlibs `rcParams` to change default figure size for all subsequent plots.\n\n:::\n\nAlternatively, to apply a new default for a single plot, use `rc_context` as shown in @lst-seaborn-figure-rccontext.\n\n::: {#lst-seaborn-figure-rccontext}\n\n````markdown\n```{{python}}\nimport matplotlib as mpl\nwith mpl.rc_context({'figure.figsize': (8, 4)}):\n    sns.scatterplot(data=penguins, x=\"bill_length_mm\", y=\"bill_depth_mm\", hue=\"species\")\n```\n````\n\nUse `rc_context` to create a plot with a temporary change to the matplotlib default figure size.\n\n:::\n\nFor packages that don't use matplotlib, or don't respect its defaults, you'll need to refer to their documentation for changing plot size.\nFor example, in plotnine you can resize a plot through the `theme()` function as shown in @lst-plotnine-figure-size.\n\n::: {#lst-plotnine-figure-size}\n\n````markdown\n```{{python}}\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n    + theme(figure_size=(8, 4))\n)\n```\n````\n:::\n\n### Figure format and resolution\n\nThe default image format saved by the engines differs by target format.\nFor example, for `format: html`, images will be PNG (`.png`) by default, for `format: pdf`, images will be PDF (`.pdf`) by default.\n\nYou can override these defaults using `fig-format` *document option*.\nFor example, @lst-fig-format shows how to set the default figure format to `svg` for `html` output.\n\n::: {#lst-fig-format}\n\n````{.yaml filename=\"document.qmd\"}\n---\nformat:\n  html:\n    fig-format: svg\n---\n````\n\nUse the `fig-format` document option to set the default figure format for a target output format.\n\n:::\n\nSetting `fig-format` at the top-level will apply to all output formats.\nYou can also set `fig-format`, at the top-level, or nested under a `format` in `_quarto.yml` to apply it to all documents in a project.\n\nFor raster image formats like `png` and `jpg`, you can also control the resolution of the saved image using the `fig-dpi` document option.\n\nFor example, @lst-fig-dpi shows how to set the default figure resolution to 300 dots-per-inch for `html` output.\n\n::: {#lst-fig-dpi}\n\n````{.yaml filename=\"document.qmd\"}\n---\nformat:\n  html:\n    fig-dpi: 300\n---\n````\nUse the `fig-dpi` document option to set the default figure resolution for a target output format.\nLike `fig-format` you can set this for all formats, or for all documents in a project via `_quarto.yml`.\n\n:::\n\n### Figure alignment: `fig-align` {#sec-fig-align}\n\nWhen figure is placed in your document, think about it being placed inside a container. \nBy default, the width of that container is the width of the body text, but you can alter it by placing the figure in a column (@sec-page-location-column).\nFigure alignment refers to the horizontal alignment of a figure within that container.\n\nYou can alter figure alignment with `fig-align`, which is a *code cell option* and a *document option*.\n@fig-fig-align illustrates the three possible values: `default` (the default for the target format), `left`, `right`, or `center`.\n\n::: {#fig-fig-align layout-ncol=\"3\"}\n\n![`fig-align: left`](images/figure-table-align-left.png){fig-alt=\"A scatterplot aligned to the left of the page.\"}\n\n![`fig-align: center`](images/figure-table-align-center.png){fig-alt=\"A scatterplot centered on the page.\"}\n\n![`fig-align: right`](images/figure-table-align-right.png){fig-alt=\"A scatterplot aligned to the right of the page.\"}\n\nExamples showing the effect of different `fig-align` settings: `left`, `center`, and `right`.\n\n:::\n\nYou can set `fig-align` at document level to apply to all figures (computational or not) in a document as shown in @lst-fig-align-document.\n\n::: {#lst-fig-align-document}\n\n```{.yaml filename=\"document.qmd\"}\n---\nfig-align: left\n---\n```\n\nYou can specify the alignment of all figures in a document using the `fig-align` document option.\n\n:::\n\n\nYou can then override the document level alignment on a code cell basis.\nFor example, @fig-fig-align-code aligns a single figure to the left of its container using `fig-align: right`.\n\n::: {#fig-fig-align-code}\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n```{{r}}\n#| fig-align: right\n\npenguins |>\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species)) +\n  scale_color_manual(values = penguin_colors) +\n  labs(x = \"Bill Length (mm)\", y = \"Bill Depth (mm)\")\n\n```\n````\n \n## Python\n \n````{.markdown}\n```{{r}}\n#| fig-align: right\n\n(\n    ggplot(penguins, aes(x=\"bill_length_mm\", y=\"bill_depth_mm\"))\n    + geom_point(aes(color=\"species\"))\n    + scale_color_manual(values=penguin_colors)\n    + labs(x=\"Bill Length (mm)\", y=\"Bill Depth (mm)\")\n)\n\n```\n````\n\n:::\n\nChange the alignment of a figure in its enclosing container with `fig-align`.\n\n:::\n\n\n## Tables  {#sec-figtab-tables}\n\nIn this section you'll learn about table-specific options, in particular choosing a  **table format** and controlling things like column alignment and width\n\n### Table format\n\nWhen you produce a computational table, the engine is writing the resulting table in some plain text format.\nThe most common formats are markdown pipe tables and HTML tables.\nBoth markdown pipe tables and HTML tables are supported across all of Quarto's output formats, the choice between them often comes down to how much control you want over the appearance of the table.\n\nChoose:\n\n* **Markdown**: for simple tables that don't require any row, cell or column specific formatting. \n\n* **HTML**: for more complex tables that require row, cell or column specific styling. While HTML allows for more control over the appearance of the table, not all customization will propagate through to all target formats. The best support for HTML styling is in HTML based formats (`html`, `dashboards` and `revealjs`), and `typst`.\n\nYour package and function choices, along with your target format, determine which format is produced.\nOften the format is explicit in your code, e.g. by a call to `Markdown()` in Python.\nIf it isn't, and you aren't sure which format you have produced, check the intermediate markdown that Quarto produces after executing your code cells.\n\n### Markdown \n\nUsing the markdown pipe syntax mimics how you might write a table out by hand in Quarto (@sec-markdown-tables). \nThere are many ways to produce a markdown table computationally, but we highlight the most general approach for each language here.\n\n#### R\n\nThe `kable()` function from the [knitr](https://yihui.org/knitr/) package produces markdown tables by default.\nSimply pass your table object to `kable()` and it will return the markdown table:\n\n````markdown\n```{{r}}\npenguins |>\n  count(species) |>\n  knitr::kable()\n\n```\n````\n\nThe intermediate markdown produced is:\n\n````markdown\n|species   |   n|\n|:---------|---:|\n|Adelie    | 151|\n|Chinstrap |  68|\n|Gentoo    | 123|\n````\n\nControl the alignment of columns (i.e. the position of the colons, `:`) with the `align` argument to `kable()`.\n\n\n#### Python\n\nThe `tabulate()` function from the [tabulate](https://github.com/astanin/python-tabulate) packages can produce markdown tables from a variety of Python data structure. \n\nA general approach to create markdown tables is:\n\n1. Convert the table to a data type tabulate supports (e.g. a `pandas.DataFrame`)\n\n2. Pass the table to `tabulate()` with `tablefmt='pipe'`\n\n3. Return the result surrounded by `Markdown()` from `IPython.display`\n\nFor example, to apply this strategy to a summary table created by Polars:\n\n````markdown\n```{{python}}\nfrom tabulate import tabulate\nfrom IPython.display import Markdown\n\nsummary_table = (\n  pl.DataFrame(penguins)\n .group_by('species')\n .len()\n)\nMarkdown(tabulate(summary_table.to_pandas(), \n  tablefmt='pipe', headers='keys', showindex=False))\n\n```\n````\n\nWhen executed, this intermediate markdown is produced:\n\n````markdown\n| species   |   len |\n|:----------|------:|\n| Gentoo    |   123 |\n| Adelie    |   151 |\n| Chinstrap |    68 |\n````\n\nControl the alignment of columns (i.e. the position of the colons, `:`)  with the `colalign` argument to `tabulate()`.\n\nWhile `tabulate()` is useful general approach you may find simpler ways for your specific situation.\nFor example, you can set the default print style for polars DataFrames to markdown pipe tables using [`polars.Config.set_tbl_formatting`](https://docs.pola.rs/api/python/stable/reference/api/polars.Config.set_tbl_formatting.html).\n\n### HTML\n\nThe tables in @fig-tables were produced using the GT package in R and great_tables package in Python.\nBoth packages produce HTML tables by default (they can also produce LaTeX tables see @sec-tables-other-formats).\n\nFor example, Figure @lst-intermediate-markdown-table shows a simplified excerpt from the intermediate markdown for the computational table produced in @fig-tables when `format: html`.\n\n:::{#lst-intermediate-markdown-table}\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown filename=\"document.html.md\"}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"czabgtycdf\" ...>\n<style>...</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>...</thead>\n  <tbody class=\"gt_table_body\">...</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n````\n \n## Python\n \n````{.markdown filename=\"document.html.md\"}\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n<div id=\"jnzyjbmsji\" ...>\n<style>...</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>...</thead>\n  <tbody class=\"gt_table_body\">...</tbody>\n</table>\n</div>\n```\n::: \n````\n \n:::\n\nIntermediate markdown from the code cells in @fig-tables. The `...` indicate parts omitted for brevity.\n\n:::\n\nInside the `::: {.cell-output-display}` div, you'll notice the raw HTML block syntax `` ```{=html} ``, and the table is created with the HTML tags `<table>`, `<thead>` and `<tbody>`.\nIn other words, the code cell has produced an HTML table.\n\nWhen producing HTML tables, you'll often find the package you are using provides its own styling (i.e. inside `<style>` tags), and ways to customize styling via their own functions.\nRead the documentation for your chosen package to see how to customize the appearance of your tables.\n\n### Other formats {#sec-tables-other-formats}\n\nThe computational engine is aware of your target format.\nThis means packages can produce tables in formats other than markdown or HTML when appropriate.\nFor example, both the GT (R) and great_tables (Python) packages will produce tables using LaTeX syntax when the target format is `pdf`.\nOther packages may produce RTF tables when the target format is `word`.\nRefer to the documentation for your chosen package to see what formats are supported.\n\n### Column widths\n\nUsually, column widths in tables are determined automatically based on the content of each column.\nHowever, sometimes you may want to set specific column widths.\n\n#### Markdown tables: `tbl-colwidths` {#sec-tbl-colwidths}\n\nThe option `tbl-colwidths` allows you to specify widths for columns for *markdown* tables.\nIt takes an array of values, one per column, expressed as percentages.\nYou can set it as a *document option* to apply to all tables in a document, or as a *code cell option* to apply to a single table.\n\nFor example, @fig-tbl-colwidths-markdown shows how to set the column widths for a single markdown table using the code cell option `tbl-colwidths`.\n\n::: {#fig-tbl-colwidths-markdown}\n::: {.panel-tabset group=\"language\"}\n\n## R\n \n````{.markdown}\n```{{r}}\n#| tbl-colwidths: [25, 75]\npenguins |>\n  count(species) |>\n  knitr::kable()\n\n``` \n````\n \n## Python\n \n````{.markdown}\n```{{python}}\n#| tbl-colwidths: [25, 75]\nfrom tabulate import tabulate\nfrom IPython.display import Markdown\n\nsummary_table = (\n  pl.DataFrame(penguins)\n .group_by('species')\n .len()\n)\nMarkdown(tabulate(summary_table.to_pandas(), \n  tablefmt='pipe', headers='keys', showindex=False))\n\n``` \n````\n \n:::\n\nUse `tbl-colwidths` to set relative column widths for markdown tables.\n\n:::\n\n#### HTML tables\n\nSince HTML tables usually provide their styling, column width (and table width) are usually controlled via the package you are using to create the table.\nFor example, @fig-tbl-colwidths-gt shows how to replicate the table and column widths above for HTML tables using the GT and great_tables packages.\n\n\n::: {#fig-tbl-colwidths-gt}\n\n:::{.panel-tabset group=\"language\"}\n\n## R\n\n````{.markdown}\n```{{r}}\npenguins |>\n  count(species) |>\n  gt() |> \n  tab_options(\n    table.width = pct(100),\n  ) |> \n  cols_width(\n    species ~ pct(25),\n    n ~ pct(75)\n  )\n```\n````\n\n## Python\n\n````{.markdown}\n```{{python}}\n(\n  pl.DataFrame(penguins)\n  .group_by('species')\n  .len()\n  .pipe(GT) \n  .tab_options(table_width=\"100%\")\n  .cols_width(\n    species=\"25%\", \n    len=\"75%\"\n  )\n)\n```\n````\n:::\n\nGT and great_tables provide their own functions to set table (`tab_options()`) and column widths (`cols_width()`).\n\n:::\n\n## Troubleshooting {#sec-figtab-troubleshooting}\n\nIn this section we provide some troubleshooting tips for when your figures or tables don't look right.\nRefer back to @sec-troubleshooting for general troubleshooting tips.\n\n### Examine intermediate markdown\n\nSince your figures and tables are produced by the engine executing your code, a good first step is to take a look at the markdown after the engine has finished by setting `keep-md: true` in your document header:\n\n```{.yaml filename=\"document.qmd\"}\n---\ntitle: My Document\nkeep-md: true\n---\n```\n\nRender your document, and then open the generated markdown file, `{filename}.{format}.md` file.\n\nFind where the figure or table that isn't looking right is, and examine it carefully.\nA good way to find it, is to search for its `label`.\n\n* Is the format of the figure or table what you expect? \n\n* Is the content of the figure or table what you expect? For figures, navigate to the path of the saved image and open it directly. For tables, you'll need to rely on examing the HTML or markdown syntax.\n\n* Is the surrounding markdown what you expect? For example, are the attributes present on the figure or table markdown? Are the correct classes on the surrounding fenced divs?\n\n### Explore package options\n\nThe pacakges you use to create figures and tables often have their own options for controlling appearance.\nCheck the documentation for your chosen package to see what options are available.\n\n### Separate code from markdown\n\nSome code options, like `column` and the `layout*` options, \ndon't have an impact on how your code produces your figures and tables, \nbut instead on the markdown that surrounds them in the document.\n\nIf your figures and tables don't look right, and you are using these options,\na good first step is to pull apart the layout from the code that produces the figure or table.\n\nRemove the options entirely, and check the tables and figures themselves look right.\nThen, introduce the layout back in, but use the fenced div approach, rather than the code cell options.\n\n### Reproduce in a minimal example\n\nAs always, if you are having trouble, try to reproduce the issue in a minimal example, and ask for help.\nRefer back to @sec-ask-for-help tips on how to do this effectively.\nCreating a reproducable example is more complicated when execution is involved.\nTo fully reproduce an issue, someone also needs to reproduce your computational environment including the version of R or Python and the versions of any packages you are using.\nTo make this easier, minimize the computation and packages required to illustrate your problem.\nAttempt to reduce the problem to as little code as possible by creating a small, illustrative data set, and doing as little computation as possible to demonstrate the problem.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}