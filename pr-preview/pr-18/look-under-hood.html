<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mine Çetinkaya-Rundel and Charlotte Wickham">

<title>7&nbsp; Looking under the hood – Quarto: The Practical Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./yaml.html" rel="next">
<link href="./publishing.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d640c705e8c17715bca3574aa719063f.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ff556e7f0851f7e85a5a01afa489be36.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./overview.html">Hello Quarto</a></li><li class="breadcrumb-item"><a href="./look-under-hood.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Looking under the hood</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Quarto: The Practical Guide</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/mine-cetinkaya-rundel/quarto-tdg/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hello Quarto</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Quarto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./authoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Authoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./computation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Computation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Projects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./publishing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Publishing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./look-under-hood.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Looking under the hood</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./yaml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Setting options with YAML</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./computations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Quarto and R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Quarto and Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./julia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Quarto and Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./figure-table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Figures and tables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./freeze-cache.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Freezing and caching</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./formats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Output formats</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./documents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Documents</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./presentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Presentations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manuscripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Manuscripts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dashboards.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Dashboards</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./websites.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Websites</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./books.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Books</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./more.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Doing more with Quarto</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./templates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Templates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extensions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Extensions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dig-under-hood.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Digging under the hood</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Jupyter</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-does-quarto-do" id="toc-what-does-quarto-do" class="nav-link active" data-scroll-target="#what-does-quarto-do"><span class="header-section-number">7.1</span> What does Quarto do?</a></li>
  <li><a href="#an-html-document-with-r-code-cells" id="toc-an-html-document-with-r-code-cells" class="nav-link" data-scroll-target="#an-html-document-with-r-code-cells"><span class="header-section-number">7.2</span> An HTML document with R code cells</a>
  <ul class="collapse">
  <li><a href="#before-the-computational-engine" id="toc-before-the-computational-engine" class="nav-link" data-scroll-target="#before-the-computational-engine"><span class="header-section-number">7.2.1</span> Before the computational engine</a></li>
  <li><a href="#computational-engine" id="toc-computational-engine" class="nav-link" data-scroll-target="#computational-engine"><span class="header-section-number">7.2.2</span> Computational engine</a></li>
  <li><a href="#pandoc" id="toc-pandoc" class="nav-link" data-scroll-target="#pandoc"><span class="header-section-number">7.2.3</span> Pandoc</a></li>
  <li><a href="#monitoring-the-process-on-the-command-line" id="toc-monitoring-the-process-on-the-command-line" class="nav-link" data-scroll-target="#monitoring-the-process-on-the-command-line"><span class="header-section-number">7.2.4</span> Monitoring the process on the command line</a></li>
  </ul></li>
  <li><a href="#an-html-document-with-python-code-cells" id="toc-an-html-document-with-python-code-cells" class="nav-link" data-scroll-target="#an-html-document-with-python-code-cells"><span class="header-section-number">7.3</span> An HTML document with Python code cells</a>
  <ul class="collapse">
  <li><a href="#before-computational-engine" id="toc-before-computational-engine" class="nav-link" data-scroll-target="#before-computational-engine"><span class="header-section-number">7.3.1</span> Before computational engine</a></li>
  <li><a href="#computational-engine-1" id="toc-computational-engine-1" class="nav-link" data-scroll-target="#computational-engine-1"><span class="header-section-number">7.3.2</span> Computational engine</a></li>
  <li><a href="#pandoc-1" id="toc-pandoc-1" class="nav-link" data-scroll-target="#pandoc-1"><span class="header-section-number">7.3.3</span> Pandoc</a></li>
  <li><a href="#monitoring-the-process-on-the-command-line-1" id="toc-monitoring-the-process-on-the-command-line-1" class="nav-link" data-scroll-target="#monitoring-the-process-on-the-command-line-1"><span class="header-section-number">7.3.4</span> Monitoring the process on the command line</a></li>
  </ul></li>
  <li><a href="#sec-pdf-r" id="toc-sec-pdf-r" class="nav-link" data-scroll-target="#sec-pdf-r"><span class="header-section-number">7.4</span> A PDF document with R code cells</a>
  <ul class="collapse">
  <li><a href="#before-the-computational-engine-1" id="toc-before-the-computational-engine-1" class="nav-link" data-scroll-target="#before-the-computational-engine-1"><span class="header-section-number">7.4.1</span> Before the computational engine</a></li>
  <li><a href="#computational-engine-2" id="toc-computational-engine-2" class="nav-link" data-scroll-target="#computational-engine-2"><span class="header-section-number">7.4.2</span> Computational engine</a></li>
  <li><a href="#pandoc-2" id="toc-pandoc-2" class="nav-link" data-scroll-target="#pandoc-2"><span class="header-section-number">7.4.3</span> Pandoc</a></li>
  <li><a href="#after-pandoc" id="toc-after-pandoc" class="nav-link" data-scroll-target="#after-pandoc"><span class="header-section-number">7.4.4</span> After Pandoc</a></li>
  </ul></li>
  <li><a href="#a-multi-format-document" id="toc-a-multi-format-document" class="nav-link" data-scroll-target="#a-multi-format-document"><span class="header-section-number">7.5</span> A multi-format document</a></li>
  <li><a href="#other-variations" id="toc-other-variations" class="nav-link" data-scroll-target="#other-variations"><span class="header-section-number">7.6</span> Other variations</a>
  <ul class="collapse">
  <li><a href="#other-types-of-input-file" id="toc-other-types-of-input-file" class="nav-link" data-scroll-target="#other-types-of-input-file"><span class="header-section-number">7.6.1</span> Other types of input file</a></li>
  <li><a href="#other-target-formats" id="toc-other-target-formats" class="nav-link" data-scroll-target="#other-target-formats"><span class="header-section-number">7.6.2</span> Other target formats</a></li>
  <li><a href="#preview-vs.-render" id="toc-preview-vs.-render" class="nav-link" data-scroll-target="#preview-vs.-render"><span class="header-section-number">7.6.3</span> Preview vs.&nbsp;render</a></li>
  <li><a href="#rendering-projects" id="toc-rendering-projects" class="nav-link" data-scroll-target="#rendering-projects"><span class="header-section-number">7.6.4</span> Rendering projects</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting" class="nav-link" data-scroll-target="#troubleshooting"><span class="header-section-number">7.7</span> Troubleshooting</a>
  <ul class="collapse">
  <li><a href="#run-quarto-check" id="toc-run-quarto-check" class="nav-link" data-scroll-target="#run-quarto-check"><span class="header-section-number">7.7.1</span> Run <code>quarto check</code></a></li>
  <li><a href="#sec-computational-errors" id="toc-sec-computational-errors" class="nav-link" data-scroll-target="#sec-computational-errors"><span class="header-section-number">7.7.2</span> Errors from the computational engine</a></li>
  <li><a href="#things-that-arent-errors" id="toc-things-that-arent-errors" class="nav-link" data-scroll-target="#things-that-arent-errors"><span class="header-section-number">7.7.3</span> Things that aren’t errors</a></li>
  <li><a href="#asking-for-help" id="toc-asking-for-help" class="nav-link" data-scroll-target="#asking-for-help"><span class="header-section-number">7.7.4</span> Asking for help</a></li>
  </ul></li>
  <li><a href="#wrapping-up" id="toc-wrapping-up" class="nav-link" data-scroll-target="#wrapping-up"><span class="header-section-number">7.8</span> Wrapping Up</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/mine-cetinkaya-rundel/quarto-tdg/edit/main/look-under-hood.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/mine-cetinkaya-rundel/quarto-tdg/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./overview.html">Hello Quarto</a></li><li class="breadcrumb-item"><a href="./look-under-hood.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Looking under the hood</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Looking under the hood</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>So far, we haven’t talked much about what happens behind the scenes when you run <code>quarto render</code>.</p>
<p>In this chapter, you’ll learn more about what Quarto does under the hood, so you can troubleshoot problems when they occur.</p>
<section id="what-does-quarto-do" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="what-does-quarto-do"><span class="header-section-number">7.1</span> What does Quarto do?</h2>
<p>At a high level, rendering a Quarto document involves two steps:</p>
<ol type="1">
<li><p><strong>Code execution via the computational engine (<code>knitr</code>, <code>jupyter</code>, or <code>julia</code>):</strong> The computational engine executes all the code cells in the source document and replaces the cells with static Markdown content containing the results. The result is a Markdown file (<code>.md</code>).</p></li>
<li><p><strong>Format conversion via Pandoc:</strong> The Markdown file generated in the previous step is passed to Pandoc which converts from Markdown to the required output format.</p></li>
</ol>
<p>To help you understand this process, you’ll follow a series of documents through these steps. You’ll start with a document that targets the HTML format and has only R code chunks, then see how the process alters for a document with Python code cells and a document that targets PDF.</p>
</section>
<section id="an-html-document-with-r-code-cells" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="an-html-document-with-r-code-cells"><span class="header-section-number">7.2</span> An HTML document with R code cells</h2>
<p>The document in <a href="#lst-render-html-r-raw" class="quarto-xref">Snippet&nbsp;<span>7.1</span></a>, <code>html-r.qmd</code>, is a Quarto document that targets the HTML format and contains two R code cells.</p>
<div id="lst-render-html-r-raw" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-html-r-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.1: <code>html-r.qmd</code> is a Quarto document with R code cells and placeholder text, targeting HTML output.
</figcaption>
<div aria-describedby="lst-render-html-r-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> My document</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some computation</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-line-numbers: true</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span>  </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>The process this file undergoes when you call <code>quarto render</code> is illustrated in <a href="#fig-render-html-r" class="quarto-xref">Figure&nbsp;<span>7.1</span></a>. You’ll dive into the details of each step below.</p>
<div id="fig-render-html-r" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Diagram showing a `.qmd` file entering a box labelled Quarto, it flows through `knitr` to a `.html.md` file, then through Pandoc, exiting the box as a `.html` file along with a folder with the name `_files.`.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-render-html-r-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/look-under-hood-render-html-r.jpg" class="img-fluid figure-img" alt="Diagram showing a `.qmd` file entering a box labelled Quarto, it flows through `knitr` to a `.html.md` file, then through Pandoc, exiting the box as a `.html` file along with a folder with the name `_files.`.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-render-html-r-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.1: The <code>quarto render</code> process for <code>html-r.qmd</code>
</figcaption>
</figure>
</div>
<section id="before-the-computational-engine" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="before-the-computational-engine"><span class="header-section-number">7.2.1</span> Before the computational engine</h3>
<p>Before anything else, Quarto parses your file to extract the document header and code cells. Quarto determines the set of formats that need to be rendered and select the appropriate computational engine.</p>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Include shortcodes are also resolved
</div>
</div>
<div class="callout-body-container callout-body">
<p>Include shortcodes are also resolved at this stage because they may contribute code cells to the document.</p>
</div>
</div>
<p>It’s at this stage you’ll get errors about malformed YAML in your document header— these start with <code>ERROR: YAMLError:</code>. You can learn more about common YAML issues in <a href="yaml.html" class="quarto-xref"><span>Chapter 8</span></a>.</p>
<p>Each input file is only ever run through one computational engine: <code>knitr</code>, <code>jupyter</code>, or <code>julia</code>. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> With no additional information from the metadata (e.g.&nbsp;none of <code>engine</code>, <code>jupyter</code>, nor <code>knitr</code>), Quarto will choose the engine based on the file extension and the language of executable code cells in the document.</p>
<p>For <code>.qmd</code> documents, Quarto will use:</p>
<ul>
<li><p><code>knitr</code>, if there are <strong>any</strong> <code>{r}</code> code cells.</p></li>
<li><p><code>jupyter</code>, if there are any executable code cells other than <code>{r}</code>. The Jupyter kernel will be chosen based on the first executable code cell.</p></li>
<li><p>The <code>markdown</code> engine, equivalent to using no computational engine, if there are no executable cells.</p></li>
</ul>
<p>For <code>html-r.qmd</code>, HTML is the only format specified in the header, and assuming no <code>--to</code> argument was specified in the <code>quarto render</code> call, Quarto will know to target it. Since, <code>html-r.qmd</code> contains executable R code cells (and doesn’t specify engine otherwise) Quarto selects the <code>knitr</code> engine.</p>
</section>
<section id="computational-engine" class="level3" data-number="7.2.2">
<h3 data-number="7.2.2" class="anchored" data-anchor-id="computational-engine"><span class="header-section-number">7.2.2</span> Computational engine</h3>
<p>The selected computational engine is informed of the target format. It runs the executable code cells and any inline code expressions, replacing them with appropriate Markdown, abiding by the execution options specified in the metadata and code cells. The result is a Markdown file. You can examine this Markdown file by adding <code>keep-md</code> to your document metadata:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> My document</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">keep-md</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><a href="#lst-render-html-r-md" class="quarto-xref">Snippet&nbsp;<span>7.2</span></a> shows the resulting Markdown file for <code>html-r.qmd</code>. Notice that the document header and Markdown content have passed through unchanged. However, there are now no <code>{r}</code> code cells. These are replaced by Markdown, albeit with some special classes attached.</p>
<div id="lst-render-html-r-md" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-html-r-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.2: <code>html-r.html.md</code> the intermediate Markdown created after passing <code>html-r.qmd</code> through the <code>knitr</code> engine.
</figcaption>
<div aria-describedby="lst-render-html-r-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> My document</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some computation</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="in">```{.r .cell-code  code-line-numbers="true"}</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>::: {.cell-output .cell-output-stdout}</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="in">[1] 2</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>::: {.cell-output-display}</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="al">![](html-r_files/figure-html/unnamed-chunk-2-1.png)</span>{width=672}</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>For example, the executable code cell that does some addition in <a href="#lst-code-cell-raw" class="quarto-xref">Snippet&nbsp;<span>7.2 (a)</span></a> is replaced in <a href="#lst-code-cell-md" class="quarto-xref">Snippet&nbsp;<span>7.2 (b)</span></a> by a fenced div with the class <code>.cell</code> that contains:</p>
<ol type="1">
<li><p>A non-executable code cell <code>{.r}</code> with class <code>.cell-code</code> and the attribute <code>code-line-numbers="true"</code> that contains the code — this is the “echo”.</p></li>
<li><p>A fenced div with classes <code>.cell-output</code> and <code>.cell-output-stdout</code> that contains a code cell with the result.</p></li>
</ol>
<div id="fig-code-cell" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-code-cell-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-code-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="lst-code-cell-raw" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-subfloat-lst figure">
<figcaption class="quarto-float-caption-top quarto-subfloat-caption quarto-subfloat-lst" id="lst-code-cell-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) The original code cell.
</figcaption>
<div aria-describedby="lst-code-cell-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-line-numbers: true</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-code-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="lst-code-cell-md" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-subfloat-lst figure">
<figcaption class="quarto-float-caption-top quarto-subfloat-caption quarto-subfloat-lst" id="lst-code-cell-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) The code cell after being processed by the <code>knitr</code> engine.
</figcaption>
<div aria-describedby="lst-code-cell-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="in">```{.r .cell-code  code-line-numbers="true"}</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>::: {.cell-output .cell-output-stdout}</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="in">[1] 2</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-code-cell-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.2: A code cell in <code>html-r.qmd</code> before and after being processed by the <code>knitr</code> computational engine.
</figcaption>
</figure>
</div>
<p>You can see a similar transformation has occurred on the code cell creating a plot. However, now there is no “echo”, because the code cell included the option <code>echo: false</code>, and the output is an image stored in <code>html-r_files/figure-html/</code>.</p>
<p>The name of the intermediate file, <code>html-r.html.md</code>, includes the format, <code>.html</code> because the engine is run separately for each format. The Markdown output and supporting files are format specific. You’ll see an example of this in <a href="#sec-pdf-r" class="quarto-xref"><span>Section 7.4</span></a>.</p>
<p>If you receive an error from the computational engine, you won’t get the get the intermediate Markdown file. Common errors that arise during execution by the computational engine are discussed in <a href="#sec-computational-errors" class="quarto-xref"><span>Section 7.7.2</span></a>.</p>
</section>
<section id="pandoc" class="level3" data-number="7.2.3">
<h3 data-number="7.2.3" class="anchored" data-anchor-id="pandoc"><span class="header-section-number">7.2.3</span> Pandoc</h3>
<p>The Markdown file is passed along to Pandoc<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> for conversion into the desired output format. Pandoc’s role in rendering provides many of the features for <a href="authoring.html">authoring</a> Quarto documents. For example, the syntax you learned for headings, quotations, lists, tables, links and footnotes is the syntax defined by Pandoc (see <a href="https://pandoc.org/MANUAL.html#pandocs-markdown">Pandoc’s Markdown</a> on the Pandoc documentation site). Other more complicated features, like the default handling of citations with <code>citeproc</code>, also come directly from Pandoc (see <a href="https://pandoc.org/MANUAL.html#citations">Citations</a> on the Pandoc documentation site).</p>
<p>However, Quarto adds many of its own features beyond those available in Pandoc. These are added via an established mechanism for customizing Pandoc output: filters. When Pandoc reads an input file, it translates it into an abstract representation known as an abstract syntax tree. Filters are functions that operate on this abstract syntax tree, transforming it before it is written out to the desired format. Cross-references, shortcodes<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, and code annotation are examples of features that Quarto adds via filters.</p>
<p>For documents targeting the HTML format the output file returned to you is the output returned from Pandoc. An excerpt from <code>html-r.html</code>, the HTML file returned from <code>quarto render html-r.qmd</code> is shown in <a href="#lst-render-html-r-html" class="quarto-xref">Snippet&nbsp;<span>7.3</span></a>. There are more than 100 lines of HTML prior to this excerpt, but we’ve excluded that code here to focus on the part of the document that reflects our content.</p>
<div id="lst-render-html-r-html" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-html-r-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.3: An excerpt from <code>html-r.html</code>—the final output file from rendering <code>html-r.qmd</code>
</figcaption>
<div aria-describedby="lst-render-html-r-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">section</span><span class="ot"> id</span><span class="op">=</span><span class="st">"some-computation"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"level2"</span><span class="dt">&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h2</span><span class="ot"> class</span><span class="op">=</span><span class="st">"anchored"</span><span class="ot"> data-anchor-id</span><span class="op">=</span><span class="st">"some-computation"</span><span class="dt">&gt;</span>Some computation<span class="dt">&lt;/</span><span class="kw">h2</span><span class="dt">&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"cell"</span><span class="dt">&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sourceCode cell-code"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"cb1"</span><span class="dt">&gt;&lt;</span><span class="kw">pre</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sourceCode numberSource r number-lines code-with-copy"</span><span class="dt">&gt;&lt;</span><span class="kw">code</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sourceCode r"</span><span class="dt">&gt;&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"cb1-1"</span><span class="dt">&gt;&lt;</span><span class="kw">a</span><span class="ot"> href</span><span class="op">=</span><span class="st">"#cb1-1"</span><span class="dt">&gt;&lt;/</span><span class="kw">a</span><span class="dt">&gt;&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"dv"</span><span class="dt">&gt;</span>1<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sc"</span><span class="dt">&gt;</span>+<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"dv"</span><span class="dt">&gt;</span>1<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;&lt;/</span><span class="kw">span</span><span class="dt">&gt;&lt;/</span><span class="kw">code</span><span class="dt">&gt;&lt;</span><span class="kw">button</span><span class="ot"> title</span><span class="op">=</span><span class="st">"Copy to Clipboard"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"code-copy-button"</span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bi"</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;&lt;/</span><span class="kw">button</span><span class="dt">&gt;&lt;/</span><span class="kw">pre</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"cell-output cell-output-stdout"</span><span class="dt">&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">pre</span><span class="dt">&gt;&lt;</span><span class="kw">code</span><span class="dt">&gt;</span>[1] 2<span class="dt">&lt;/</span><span class="kw">code</span><span class="dt">&gt;&lt;/</span><span class="kw">pre</span><span class="dt">&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"cell"</span><span class="dt">&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"cell-output-display"</span><span class="dt">&gt;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">figure</span><span class="ot"> class</span><span class="op">=</span><span class="st">"figure"</span><span class="dt">&gt;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;&lt;</span><span class="kw">img</span><span class="ot"> src</span><span class="op">=</span><span class="st">"html-r_files/figure-html/unnamed-chunk-2-1.png"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"img-fluid figure-img"</span><span class="ot"> width</span><span class="op">=</span><span class="st">"672"</span><span class="dt">&gt;&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">figure</span><span class="dt">&gt;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">section</span><span class="dt">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>The Markdown is now converted to HTML. For example, the Markdown section heading <code>## A computation</code> is represented by a <code>&lt;h2&gt;</code> heading:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h2</span><span class="ot"> class</span><span class="op">=</span><span class="st">"anchored"</span><span class="ot"> data-anchor-id</span><span class="op">=</span><span class="st">"some-computation"</span><span class="dt">&gt;</span>Some computation<span class="dt">&lt;/</span><span class="kw">h2</span><span class="dt">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>The fenced divs have been literally converted to <code>&lt;div&gt;</code> elements, and code blocks to <code>&lt;pre&gt;</code> elements.</p>
<p>This HTML file requires some additional resources for a browser to correctly render it, but Quarto provides them all in <code>html-r_files/</code>. When you open <code>html-r.qmd</code> in a browser you’ll see the final rendered document (<a href="#fig-html-r-html" class="quarto-xref">Figure&nbsp;<span>7.3</span></a>).</p>
<div id="fig-html-r-html" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Screenshot of a webpage. Page starts with the heading 'My document', shows the output of two R code cells, and ends with a paragraph of text.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-html-r-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/look-under-hood-r-html.png" class="img-fluid figure-img" alt="Screenshot of a webpage. Page starts with the heading 'My document', shows the output of two R code cells, and ends with a paragraph of text.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-html-r-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.3: The HTML document that is produced with <code>quarto render html-r.qmd</code>
</figcaption>
</figure>
</div>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Templates contribute document boilerplate
</div>
</div>
<div class="callout-body-container callout-body">
<p>Converting the Markdown to HTML commands isn’t enough to have a complete HTML document. The converted content is pasted into a template that adds the boilerplate required to form a complete document. Quarto has default templates it uses unless otherwise specified. You’ll learn more about templates and customizing them in <span class="quarto-unresolved-ref">?sec-templates</span>.</p>
</div>
</div>
</section>
<section id="monitoring-the-process-on-the-command-line" class="level3" data-number="7.2.4">
<h3 data-number="7.2.4" class="anchored" data-anchor-id="monitoring-the-process-on-the-command-line"><span class="header-section-number">7.2.4</span> Monitoring the process on the command line</h3>
<p>You can also see this process in the messages Quarto prints as it runs. These messages are generated when you run <code>quarto render</code> or <code>quarto preview</code>, but you may have missed them because they scroll quickly past or are hidden in a pane in your IDE. In <a href="#fig-r-output" class="quarto-xref">Figure&nbsp;<span>7.4</span></a>, you can see the messages Quarto prints in the Terminal during a successful render of <code>html-r.qmd</code>.</p>
<p>Knitr generates the first chunk of output as it processes the document and runs the code in the three (unnamed) chunks. The remaining output gives some information on the settings being passed along to pandoc.</p>
<div id="fig-r-output" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-r-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div style="text-align: left">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="annotated-cell-15" data-filename="Terminal"><pre class="sourceCode default code-annotation-code code-with-copy code-annotated"><code class="sourceCode default"><a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-15-1" class="code-annotation-target"><a href="#annotated-cell-15-1" aria-hidden="true" tabindex="-1"></a>$ quarto render html-r.qmd</span>
<span id="annotated-cell-15-2"><a href="#annotated-cell-15-2" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-15-3" class="code-annotation-target"><a href="#annotated-cell-15-3" aria-hidden="true" tabindex="-1"></a>processing file: html-r.qmd</span>
<span id="annotated-cell-15-4"><a href="#annotated-cell-15-4" aria-hidden="true" tabindex="-1"></a>1/5</span>
<span id="annotated-cell-15-5"><a href="#annotated-cell-15-5" aria-hidden="true" tabindex="-1"></a>2/5 [unnamed-chunk-1]</span>
<span id="annotated-cell-15-6"><a href="#annotated-cell-15-6" aria-hidden="true" tabindex="-1"></a>3/5</span>
<span id="annotated-cell-15-7"><a href="#annotated-cell-15-7" aria-hidden="true" tabindex="-1"></a>4/5 [unnamed-chunk-2]</span>
<span id="annotated-cell-15-8"><a href="#annotated-cell-15-8" aria-hidden="true" tabindex="-1"></a>5/5</span>
<span id="annotated-cell-15-9"><a href="#annotated-cell-15-9" aria-hidden="true" tabindex="-1"></a>output file: html-r.knit.md</span>
<span id="annotated-cell-15-10"><a href="#annotated-cell-15-10" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-15-11" class="code-annotation-target"><a href="#annotated-cell-15-11" aria-hidden="true" tabindex="-1"></a>pandoc</span>
<span id="annotated-cell-15-12"><a href="#annotated-cell-15-12" aria-hidden="true" tabindex="-1"></a>  to: html</span>
<span id="annotated-cell-15-13"><a href="#annotated-cell-15-13" aria-hidden="true" tabindex="-1"></a>  output-file: html-r.html</span>
<span id="annotated-cell-15-14"><a href="#annotated-cell-15-14" aria-hidden="true" tabindex="-1"></a>  standalone: true</span>
<span id="annotated-cell-15-15"><a href="#annotated-cell-15-15" aria-hidden="true" tabindex="-1"></a>  section-divs: true</span>
<span id="annotated-cell-15-16"><a href="#annotated-cell-15-16" aria-hidden="true" tabindex="-1"></a>  html-math-method: mathjax</span>
<span id="annotated-cell-15-17"><a href="#annotated-cell-15-17" aria-hidden="true" tabindex="-1"></a>  wrap: none</span>
<span id="annotated-cell-15-18"><a href="#annotated-cell-15-18" aria-hidden="true" tabindex="-1"></a>  default-image-extension: png</span>
<span id="annotated-cell-15-19"><a href="#annotated-cell-15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-15-20"><a href="#annotated-cell-15-20" aria-hidden="true" tabindex="-1"></a>metadata</span>
<span id="annotated-cell-15-21"><a href="#annotated-cell-15-21" aria-hidden="true" tabindex="-1"></a>  document-css: false</span>
<span id="annotated-cell-15-22"><a href="#annotated-cell-15-22" aria-hidden="true" tabindex="-1"></a>  link-citations: true</span>
<span id="annotated-cell-15-23"><a href="#annotated-cell-15-23" aria-hidden="true" tabindex="-1"></a>  date-format: long</span>
<span id="annotated-cell-15-24"><a href="#annotated-cell-15-24" aria-hidden="true" tabindex="-1"></a>  lang: en</span>
<span id="annotated-cell-15-25"><a href="#annotated-cell-15-25" aria-hidden="true" tabindex="-1"></a>  title: My document</span>
<span id="annotated-cell-15-26"><a href="#annotated-cell-15-26" aria-hidden="true" tabindex="-1"></a>                                </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-15-27" class="code-annotation-target"><a href="#annotated-cell-15-27" aria-hidden="true" tabindex="-1"></a>Output created: html-r.html</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="1" data-code-annotation="1">Quarto starts working, you may hang here for awhile as Quarto parses what it needs to plan its work.</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="3,4,5,6,7,8,9" data-code-annotation="2">Knitr executes the code cells</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="11,12,13,14,15,16,17,18,19,20,21,22,23,24,25" data-code-annotation="3">The information passed along to Pandoc</span>
</dd>
<dt data-target-cell="annotated-cell-15" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="27" data-code-annotation="4">A final message from Quarto indicating success</span>
</dd>
</dl>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-r-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.4: The output printed by <code>quarto render</code> when run on <code>html-r.qmd</code>.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="an-html-document-with-python-code-cells" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="an-html-document-with-python-code-cells"><span class="header-section-number">7.3</span> An HTML document with Python code cells</h2>
<p><a href="#lst-render-html-python-raw" class="quarto-xref">Snippet&nbsp;<span>7.4</span></a> shows <code>html-python.qmd</code>, a file that is very similar to <code>html-r.qmd</code> except instead of R code cells, it has Python code cells.</p>
<div id="lst-render-html-python-raw" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-html-python-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.4: <code>html-python.qmd</code> a Quarto document with Python code cells and placeholder text, targeting HTML output.
</figcaption>
<div aria-describedby="lst-render-html-python-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> My document</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some computation</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-line-numbers: true</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="in">```</span>  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)) </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>In <a href="#fig-render-html-python" class="quarto-xref">Figure&nbsp;<span>7.5</span></a> we show the process of rendering <code>html-python.qmd</code>, greying those parts that are the same as the process for <code>html-r.qmd</code>.</p>
<div id="fig-render-html-python" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Diagram showing a `.qmd` file entering a box labelled Quarto, it flows through `jupyter` to a `.html.md` file, then through Pandoc, exiting the box as a `.html` file along with a folder with the name `_files.`. Everything is greyed out except the `jupyter` box.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-render-html-python-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/look-under-hood-render-html-python.jpg" class="img-fluid figure-img" alt="Diagram showing a `.qmd` file entering a box labelled Quarto, it flows through `jupyter` to a `.html.md` file, then through Pandoc, exiting the box as a `.html` file along with a folder with the name `_files.`. Everything is greyed out except the `jupyter` box.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-render-html-python-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.5: The <code>quarto render</code> process for <code>html-python.qmd</code>
</figcaption>
</figure>
</div>
<section id="before-computational-engine" class="level3" data-number="7.3.1">
<h3 data-number="7.3.1" class="anchored" data-anchor-id="before-computational-engine"><span class="header-section-number">7.3.1</span> Before computational engine</h3>
<p>Like <code>html-r.qmd</code>, the only format specified in the header of <code>html-python.qmd</code> is HTML. Unlike <code>html-r.qmd</code>, <code>html-python.qmd</code> contains only Python code cells, so Quarto will select the <code>jupyter</code> engine. Since the first code cell is a Python code cell, the <code>python</code> kernel will be selected.</p>
</section>
<section id="computational-engine-1" class="level3" data-number="7.3.2">
<h3 data-number="7.3.2" class="anchored" data-anchor-id="computational-engine-1"><span class="header-section-number">7.3.2</span> Computational engine</h3>
<p>Now rather than <code>knitr</code>, the <code>jupyter</code> engine is responsible for executing the code cells and replacing them with Markdown.</p>
<p>The intermediate file <code>html-python.md.html</code> is shown in <a href="#lst-render-html-python-md" class="quarto-xref">Snippet&nbsp;<span>7.5</span></a>. Just like when <code>knitr</code> processed <code>html-r.qmd</code>, the <code>jupyter</code> engine has replaced the executable code cells (<code>{python}</code>) with non-executable ones (<code>{.python}</code>), and placed the code and output in fenced divs with appropriate classes.</p>
<div id="lst-render-html-python-md" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-html-python-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.5: <code>html-python.html.md</code>, the intermediate Markdown created after passing <code>html-python.qmd</code> through the <code>jupyter</code> engine.
</figcaption>
<div aria-describedby="lst-render-html-python-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> My document</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some computation</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>::: {#05056103 .cell execution_count=2}</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="in">``` {.python .cell-code code-line-numbers="true"}</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>::: {.cell-output .cell-output-display execution_count=2}</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="in">2</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>::: {#13ea8596 .cell execution_count=3}</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="in">``` {.python .cell-code}</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)) </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>::: {.cell-output .cell-output-display}</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="al">![](html-python_files/figure-html/cell-4-output-1.png)</span>{width=566 height=411}</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Functionally, the different engines should produce very similar output given the same code, but they do have their own idiosyncrasies. For instance, you can see the <code>jupyter</code> engine has added unique code cell identifiers and an <code>execution_count</code> attribute to the code cells.</p>
</section>
<section id="pandoc-1" class="level3" data-number="7.3.3">
<h3 data-number="7.3.3" class="anchored" data-anchor-id="pandoc-1"><span class="header-section-number">7.3.3</span> Pandoc</h3>
<p>Nothing changes in the Pandoc step. The intermediate Markdown is passed to Pandoc with the exact same settings as in the <code>html-r.qmd</code> example.</p>
</section>
<section id="monitoring-the-process-on-the-command-line-1" class="level3" data-number="7.3.4">
<h3 data-number="7.3.4" class="anchored" data-anchor-id="monitoring-the-process-on-the-command-line-1"><span class="header-section-number">7.3.4</span> Monitoring the process on the command line</h3>
<p>You can also see the similarities in the process through messages Quarto prints on the command line (<a href="#fig-render-html-python-output" class="quarto-xref">Figure&nbsp;<span>7.6</span></a>). The only difference is where the computational engine runs.</p>
<div id="fig-render-html-python-output" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-render-html-python-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div style="text-align: left">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="annotated-cell-18" data-filename="Terminal"><pre class="sourceCode default code-annotation-code code-with-copy code-annotated"><code class="sourceCode default"><a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-18-1" class="code-annotation-target"><a href="#annotated-cell-18-1" aria-hidden="true" tabindex="-1"></a>$ quarto render html-python.qmd</span>
<span id="annotated-cell-18-2"><a href="#annotated-cell-18-2" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-18-3" class="code-annotation-target"><a href="#annotated-cell-18-3" aria-hidden="true" tabindex="-1"></a>Starting python3 kernel...Done</span>
<span id="annotated-cell-18-4"><a href="#annotated-cell-18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-18-5"><a href="#annotated-cell-18-5" aria-hidden="true" tabindex="-1"></a>Executing 'html-python.quarto_ipynb'</span>
<span id="annotated-cell-18-6"><a href="#annotated-cell-18-6" aria-hidden="true" tabindex="-1"></a>  Cell 1/3: ''...Done</span>
<span id="annotated-cell-18-7"><a href="#annotated-cell-18-7" aria-hidden="true" tabindex="-1"></a>  Cell 2/3: ''...Done</span>
<span id="annotated-cell-18-8"><a href="#annotated-cell-18-8" aria-hidden="true" tabindex="-1"></a>  Cell 3/3: ''...Done</span>
<span id="annotated-cell-18-9"><a href="#annotated-cell-18-9" aria-hidden="true" tabindex="-1"></a>    </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-18-10" class="code-annotation-target"><a href="#annotated-cell-18-10" aria-hidden="true" tabindex="-1"></a>pandoc</span>
<span id="annotated-cell-18-11"><a href="#annotated-cell-18-11" aria-hidden="true" tabindex="-1"></a>  to: html</span>
<span id="annotated-cell-18-12"><a href="#annotated-cell-18-12" aria-hidden="true" tabindex="-1"></a>  output-file: html-python.html</span>
<span id="annotated-cell-18-13"><a href="#annotated-cell-18-13" aria-hidden="true" tabindex="-1"></a>  standalone: true</span>
<span id="annotated-cell-18-14"><a href="#annotated-cell-18-14" aria-hidden="true" tabindex="-1"></a>  section-divs: true</span>
<span id="annotated-cell-18-15"><a href="#annotated-cell-18-15" aria-hidden="true" tabindex="-1"></a>  html-math-method: mathjax</span>
<span id="annotated-cell-18-16"><a href="#annotated-cell-18-16" aria-hidden="true" tabindex="-1"></a>  wrap: none</span>
<span id="annotated-cell-18-17"><a href="#annotated-cell-18-17" aria-hidden="true" tabindex="-1"></a>  default-image-extension: png</span>
<span id="annotated-cell-18-18"><a href="#annotated-cell-18-18" aria-hidden="true" tabindex="-1"></a>  toc: true</span>
<span id="annotated-cell-18-19"><a href="#annotated-cell-18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-18-20"><a href="#annotated-cell-18-20" aria-hidden="true" tabindex="-1"></a>metadata</span>
<span id="annotated-cell-18-21"><a href="#annotated-cell-18-21" aria-hidden="true" tabindex="-1"></a>  document-css: false</span>
<span id="annotated-cell-18-22"><a href="#annotated-cell-18-22" aria-hidden="true" tabindex="-1"></a>  link-citations: true</span>
<span id="annotated-cell-18-23"><a href="#annotated-cell-18-23" aria-hidden="true" tabindex="-1"></a>  date-format: long</span>
<span id="annotated-cell-18-24"><a href="#annotated-cell-18-24" aria-hidden="true" tabindex="-1"></a>  lang: en</span>
<span id="annotated-cell-18-25"><a href="#annotated-cell-18-25" aria-hidden="true" tabindex="-1"></a>  title: My document</span>
<span id="annotated-cell-18-26"><a href="#annotated-cell-18-26" aria-hidden="true" tabindex="-1"></a>  </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-18-27" class="code-annotation-target"><a href="#annotated-cell-18-27" aria-hidden="true" tabindex="-1"></a>Output created: html-python.html</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-18" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="1" data-code-annotation="1">Quarto starts working</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="3,4,5,6,7,8" data-code-annotation="2">Jupyter executes the code cells</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25" data-code-annotation="3">The information passed along to Pandoc</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="27" data-code-annotation="4">A final message from Quarto indicating success</span>
</dd>
</dl>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-render-html-python-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.6: The output printed by <code>quarto render</code> when run on <code>html-python.qmd</code>.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-pdf-r" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="sec-pdf-r"><span class="header-section-number">7.4</span> A PDF document with R code cells</h2>
<p>Now consider the document <code>pdf-r.qmd</code> shown in <a href="#lst-render-pdf-r-raw" class="quarto-xref">Snippet&nbsp;<span>7.6</span></a>. This document is identical to <code>html-r.qmd</code> except instead of targeting the HTML format, it targets PDF.</p>
<div id="lst-render-pdf-r-raw" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-pdf-r-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.6: <code>pdf-r.qmd</code> a Quarto document with R code cells that targets the PDF format.
</figcaption>
<div aria-describedby="lst-render-pdf-r-raw-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> My document</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> pdf</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some computation</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-line-numbers: true</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span>  </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p><a href="#fig-render-pdf-r" class="quarto-xref">Figure&nbsp;<span>7.7</span></a> shows the process of rendering <code>pdf-r.qmd</code>, again greying those parts that are the same as the process for <code>html-r.qmd</code>.</p>
<div id="fig-render-pdf-r" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Diagram showing a `.qmd` file entering a box labelled Quarto, it flows through `knitr` to a `.pdf.md` file, through Pandoc to a `.tex` file, then through TeX and exiting the box as a `.pdf` file. Everything is greyed out except the `.pdf.md`, `.tex` and `.pdf` files, and the TeX box.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-render-pdf-r-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/look-under-hood-render-pdf-r.jpg" class="img-fluid figure-img" alt="Diagram showing a `.qmd` file entering a box labelled Quarto, it flows through `knitr` to a `.pdf.md` file, through Pandoc to a `.tex` file, then through TeX and exiting the box as a `.pdf` file. Everything is greyed out except the `.pdf.md`, `.tex` and `.pdf` files, and the TeX box.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-render-pdf-r-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.7: The <code>quarto render</code> process for <code>pdf-r.qmd</code>
</figcaption>
</figure>
</div>
<section id="before-the-computational-engine-1" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="before-the-computational-engine-1"><span class="header-section-number">7.4.1</span> Before the computational engine</h3>
<p>Quarto identifies the target format as PDF, and selects the <code>knitr</code> engine.</p>
</section>
<section id="computational-engine-2" class="level3" data-number="7.4.2">
<h3 data-number="7.4.2" class="anchored" data-anchor-id="computational-engine-2"><span class="header-section-number">7.4.2</span> Computational engine</h3>
<p>There isn’t any difference in how the computational engine, <code>knitr</code>, is run compared to when the target format was HTML, but the engine is aware the target format is now PDF. This means the the engine can tailor output to the target format. In <a href="#lst-render-pdf-r-md" class="quarto-xref">Snippet&nbsp;<span>7.7</span></a> you can see the intermediate Markdown file that is produced.</p>
<div id="lst-render-pdf-r-md" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-pdf-r-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.7: <code>pdf-r.pdf.md</code> the intermediate Markdown file after the <code>knitr</code> engine has exectuted the code in <code>pdf-r.qmd</code>
</figcaption>
<div aria-describedby="lst-render-pdf-r-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> My document</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> pdf</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Some computation</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="in">```{.r .cell-code  code-line-numbers="true"}</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>::: {.cell-output .cell-output-stdout}</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="in">[1] 2</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>::: {.cell-output-display}</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="al">![](pdf-r_files/figure-pdf/unnamed-chunk-2-1.pdf)</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>It is mostly identical to that produced when the target format was HTML, but there are some differences. In particular, compare the Markdown used to include the plot (<a href="#fig-plot-md" class="quarto-xref">Figure&nbsp;<span>7.8</span></a>).</p>
<div id="fig-plot-md" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-plot-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="fig-plot-html" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-plot-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="al">![](html-r_files/figure-html/unnamed-chunk-2-1.png)</span>{width=672}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-plot-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Targeting HTML
</figcaption>
</figure>
</div>
<div id="fig-plot-pdf" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-plot-pdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="al">![](pdf-r_files/figure-pdf/unnamed-chunk-2-1.pdf)</span>{fig-pos='H'}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-plot-pdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Targeting PDF
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot-md-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.8: Markdown produced by <code>knitr</code> engine for when targeting (a) HTML, and (b) PDF.
</figcaption>
</figure>
</div>
<p>When targeting PDF there is a LaTeX specific attribute added, <code>fig-pos='H'</code>, and the file included is a PDF, compared to a PNG.</p>
</section>
<section id="pandoc-2" class="level3" data-number="7.4.3">
<h3 data-number="7.4.3" class="anchored" data-anchor-id="pandoc-2"><span class="header-section-number">7.4.3</span> Pandoc</h3>
<p>When the target format was HTML, Pandoc handled the conversion, and Quarto returned the HTML document directly from Pandoc. When the target format is PDF, Pandoc only converts to LaTeX, and Quarto handles the remaining conversion from LaTeX to PDF.</p>
<p>This means Pandoc is called on <code>pdf-r.pdf.md</code> in the same way as on <code>pdf-r.html.md</code>, but with the format set to <code>latex</code>. You can examine the <code>.tex</code> file Pandoc returns by setting <code>keep-tex</code> to <code>true</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> My document</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span><span class="at"> pdf</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">keep-tex</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>An excerpt of the resulting <code>.tex</code> file is shown in <a href="#lst-render-pdf-r-tex" class="quarto-xref">Snippet&nbsp;<span>7.8</span></a>. Above this excerpt is almost 200 lines of other TeX commands setting up the document.</p>
<div id="lst-render-pdf-r-tex" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-render-pdf-r-tex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Snippet&nbsp;7.8: An <strong>excerpt</strong> from <code>pdf-r.tex</code>, the TeX file created after passing <code>pdf-r.pdf.md</code> through Pandoc.
</figcaption>
<div aria-describedby="lst-render-pdf-r-tex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode tex code-with-copy"><code class="sourceCode latex"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\subsection</span>{Some computation}<span class="kw">\label</span>{<span class="ex">some-computation</span>}</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">Shaded</span>}</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">Highlighting</span>}[numbers=left,,]</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">\DecValTok</span>{1} <span class="fu">\SpecialCharTok</span>{+} <span class="fu">\DecValTok</span>{1}</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">Highlighting</span>}</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">Shaded</span>}</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">verbatim</span>}</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="vs">[1] 2</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">verbatim</span>}</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="bu">\includegraphics</span>{<span class="ex">pdf-r_files/figure-pdf/unnamed-chunk-2-1.pdf</span>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Now the Markdown syntax has been converted to TeX syntax: section headings are created with the TeX command <code>\subsection</code>, code cells use <code>Shaded</code> and <code>Highlighting</code> environments, and output uses appropriate commands like the <code>verbatim</code> environment for code output, and the <code>\includegraphics</code> command for the image file.</p>
</section>
<section id="after-pandoc" class="level3" data-number="7.4.4">
<h3 data-number="7.4.4" class="anchored" data-anchor-id="after-pandoc"><span class="header-section-number">7.4.4</span> After Pandoc</h3>
<p>There is an additional step now required—Quarto runs the <code>.tex</code> document through LaTeX to produce the PDF.</p>
<p>Quarto will look for, and use an installation of TeX. If TeX is not installed, you can install it with:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> install tinytex</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Quarto will prefer the version installed this way over other installations.</p>
<p>Quarto will use the detected installation and process the <code>.tex</code> file as many times as needed to resolve all cross references and citations.</p>
<p><a href="#fig-render-process-pdf" class="quarto-xref">Figure&nbsp;<span>7.9</span></a> shows part of the PDF output that results for <code>pdf-r.qmd</code>.</p>
<div id="fig-render-process-pdf" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A screenshot of a PDF document with the title 'My document'. Below the title is a table of contents followed by a section called `A computation`.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-render-process-pdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="_examples/look-under-hood/render-process.pdf"><img src="images/look-under-hood-pdf.png" class="img-fluid figure-img" alt="A screenshot of a PDF document with the title 'My document'. Below the title is a table of contents followed by a section called `A computation`."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-render-process-pdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.9: A portion of the final PDF document produced by pdf-r.qmd
</figcaption>
</figure>
</div>
</section>
</section>
<section id="a-multi-format-document" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="a-multi-format-document"><span class="header-section-number">7.5</span> A multi-format document</h2>
<p>You’ve seen what happens when a single format is declared. But, what if more than one is declared? For example, you might have specified both PDF and HTML in your document header:<br>
</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pdf</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><a href="#fig-render-multiformat" class="quarto-xref">Figure&nbsp;<span>7.10</span></a> illustrates what happens. Before the computational engine, Quarto recognizes that more than one format is a target. Each format is then generated in series and passes through the render process independently: the computational engine is run for each format; an intermediate Markdown file is generated for each format; Pandoc is run for each format; and any post-Pandoc steps are completed for each format.</p>
<div id="fig-render-multiformat" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Diagram of a quarto file entering Quarto and splitting into two processes: render to HTML; and render to PDF.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-render-multiformat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/look-under-hood-render-multiformat.jpg" class="img-fluid figure-img" alt="Diagram of a quarto file entering Quarto and splitting into two processes: render to HTML; and render to PDF.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-render-multiformat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.10: The process for rendering a file that targets both HTML and PDF
</figcaption>
</figure>
</div>
</section>
<section id="other-variations" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="other-variations"><span class="header-section-number">7.6</span> Other variations</h2>
<section id="other-types-of-input-file" class="level3" data-number="7.6.1">
<h3 data-number="7.6.1" class="anchored" data-anchor-id="other-types-of-input-file"><span class="header-section-number">7.6.1</span> Other types of input file</h3>
<p>You’ve seen the render process specifically for <code>.qmd</code> inputs, but Quarto accepts other types of input files. For <code>.Rmd</code>, <code>.ipynb</code>, and <code>.md</code>, the primary difference is that the engine is selected based on the file type: <code>jupyter</code> for <code>.ipynb</code> , but see <a href="#nte-ipynb" class="quarto-xref">Note&nbsp;<span>7.1</span></a>; <code>knitr</code> for <code>.Rmd</code> ; and <code>markdown</code> for<code>.md</code>.</p>
<p>For script files (<code>.R</code>,<code>.py</code>,<code>.jl</code> etc.) the file is pre-processed into a <code>.qmd</code> file before continuing the render process as described above.</p>
<div id="nte-ipynb" class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;7.1: Python notebooks aren’t normally executed
</div>
</div>
<div class="callout-body-container callout-body">
<p>Since <code>.ipynb</code> files store their output alongside the source, the code cells are not executed by default when you run <code>quarto render</code>. To execute the cells, pass the <code>--execute</code> flag to <code>quarto render</code>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render document.ipynb <span class="at">--execute</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</section>
<section id="other-target-formats" class="level3" data-number="7.6.2">
<h3 data-number="7.6.2" class="anchored" data-anchor-id="other-target-formats"><span class="header-section-number">7.6.2</span> Other target formats</h3>
<p>Most formats are like HTML, they are simply passed along to Pandoc with the Markdown file, Pandoc handles the conversion to the target format, and Quarto does no further processing.</p>
<p>One exception is Typst. Typst is like PDF: Pandoc handles the conversion into the Typst format <code>.typ</code>, and Quarto handles the final conversion to PDF. In contrast to <code>format: pdf</code> where Quarto looks for an external TeX installation, for <code>format: typst</code> Quarto runs the Typst version provided internally with Quarto. This is equivalent to:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> typst compile document.typ</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="preview-vs.-render" class="level3" data-number="7.6.3">
<h3 data-number="7.6.3" class="anchored" data-anchor-id="preview-vs.-render"><span class="header-section-number">7.6.3</span> Preview vs.&nbsp;render</h3>
<p>When you are working with a Quarto document, you’ll often be running <code>quarto preview</code> as opposed to <code>quarto render</code>. Think about <code>quarto preview</code> as a two-step process: first, run <code>quarto render</code>; then, serve the document. For HTML documents this means starting up a webserver, for other formats, opening some other form of viewer.</p>
</section>
<section id="rendering-projects" class="level3" data-number="7.6.4">
<h3 data-number="7.6.4" class="anchored" data-anchor-id="rendering-projects"><span class="header-section-number">7.6.4</span> Rendering projects</h3>
<p>Think about rendering a project, as rendering a folder of documents, where each one goes through the process above. Quarto often needs to do some processing before, or after (or both) rendering each document, depending on the type of project. For example, for websites Quarto needs to run through all documents to build the list of navigation items, before rendering individual pages.</p>
<p>Some projects may also involve <code>freeze</code>. When freezing a document it is the intermediate Markdown file that gets put in the freezer, effectively removing the computational engine step when the freezer is activated.</p>
</section>
</section>
<section id="troubleshooting" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="troubleshooting"><span class="header-section-number">7.7</span> Troubleshooting</h2>
<p>In this section, you’ll learn some tips for troubleshooting problems when they do occur.</p>
<section id="run-quarto-check" class="level3" data-number="7.7.1">
<h3 data-number="7.7.1" class="anchored" data-anchor-id="run-quarto-check"><span class="header-section-number">7.7.1</span> Run <code>quarto check</code></h3>
<p>As you’ve seen, Quarto potentially accesses and runs many other tools. The <code>quarto check</code> command is a good way to check the versions of these tools and the exact ones Quarto is finding.</p>
<p>Run <code>quarto check</code> on the command line in your project after activating the relevant environment (if any):</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> check</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><a href="#fig-quarto-check" class="quarto-xref">Figure&nbsp;<span>7.11</span></a> shows example output from <code>quarto check</code> with the following highlighted:</p>
<ul>
<li><p><strong>Quarto version</strong>: Check your Quarto version against the latest release, particularly when documented features don’t seem to work for you. Before reporting a bug, you should confirm that your problem exists on the latest release, and it is good practice to also confirm that it exists on the latest pre-release version.</p></li>
<li><p><strong>Internal dependencies</strong>: Tools listed here are bundled with Quarto, and you cannot link Quarto to newer versions of those tools yourself. However, knowing these versions can be useful for troubleshooting. For instance, you might be trying to use a feature of Typst that is newer than the version bundled with Quarto.</p></li>
<li><p><strong>Quarto installation</strong>: The version here will match the one reported on the first line, but adds the path to Quarto. If you manage multiple installations of Quarto, you should check that you are getting the one you expect here.</p></li>
<li><p><strong>Tools installed by Quarto</strong>: These tools aren’t included with Quarto but they can be installed with <code>quarto install</code>. TinyTex is recommended for producing PDFs via <code>format: pdf</code>; and Chromium is required for producing versions of Mermaid and Grapviz diagrams suitable for use in PDF or DOCX. You can also check these tools by running <code>quarto tools</code> which will inform you if they are out of date. You can update them with <code>quarto update</code>.</p></li>
<li><p><strong>LaTeX</strong>: Information about the TeX distribution Quarto will use. If you are having trouble with <code>format: pdf</code> output, and this isn’t TinyTex, you should install TinyTex with <code>quarto install tinytex</code>.</p></li>
<li><p><strong>Python</strong>: The Python 3 interpreter discovered by Quarto—check it is the Python you expect. This is most often controlled by a virtual environment, but can also be set with the environment variable <code>QUARTO_PYTHON</code>. If you are using a language other than Python with the <code>jupyter</code> engine, confirm that the kernel you need is listed here.</p></li>
<li><p><strong>R</strong>: The R interpreter discovered by Quarto—check it is the R you expect. It can be set with the environment variable <code>QUARTO_R</code>.</p></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="annotated-cell-29"><pre class="sourceCode default code-annotation-code code-with-copy code-annotated"><code class="sourceCode default"><a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-29-1" class="code-annotation-target"><a href="#annotated-cell-29-1" aria-hidden="true" tabindex="-1"></a>Quarto 1.5.56</span>
<span id="annotated-cell-29-2"><a href="#annotated-cell-29-2" aria-hidden="true" tabindex="-1"></a>[✓] Checking versions of quarto binary dependencies...</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-29-3" class="code-annotation-target"><a href="#annotated-cell-29-3" aria-hidden="true" tabindex="-1"></a>      Pandoc version 3.2.0: OK</span>
<span id="annotated-cell-29-4"><a href="#annotated-cell-29-4" aria-hidden="true" tabindex="-1"></a>      Dart Sass version 1.70.0: OK</span>
<span id="annotated-cell-29-5"><a href="#annotated-cell-29-5" aria-hidden="true" tabindex="-1"></a>      Deno version 1.41.0: OK</span>
<span id="annotated-cell-29-6"><a href="#annotated-cell-29-6" aria-hidden="true" tabindex="-1"></a>      Typst version 0.11.0: OK</span>
<span id="annotated-cell-29-7"><a href="#annotated-cell-29-7" aria-hidden="true" tabindex="-1"></a>[✓] Checking versions of quarto dependencies......OK</span>
<span id="annotated-cell-29-8"><a href="#annotated-cell-29-8" aria-hidden="true" tabindex="-1"></a>[✓] Checking Quarto installation......OK</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-29-9" class="code-annotation-target"><a href="#annotated-cell-29-9" aria-hidden="true" tabindex="-1"></a>      Version: 1.5.56</span>
<span id="annotated-cell-29-10"><a href="#annotated-cell-29-10" aria-hidden="true" tabindex="-1"></a>      Path: /Applications/quarto/bin</span>
<span id="annotated-cell-29-11"><a href="#annotated-cell-29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-29-12"><a href="#annotated-cell-29-12" aria-hidden="true" tabindex="-1"></a>[✓] Checking tools....................OK      </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-29-13" class="code-annotation-target"><a href="#annotated-cell-29-13" aria-hidden="true" tabindex="-1"></a>      TinyTeX: v2024.03.13</span>
<span id="annotated-cell-29-14"><a href="#annotated-cell-29-14" aria-hidden="true" tabindex="-1"></a>      Chromium: (not installed)</span>
<span id="annotated-cell-29-15"><a href="#annotated-cell-29-15" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-29-16" class="code-annotation-target"><a href="#annotated-cell-29-16" aria-hidden="true" tabindex="-1"></a>[✓] Checking LaTeX....................OK</span>
<span id="annotated-cell-29-17"><a href="#annotated-cell-29-17" aria-hidden="true" tabindex="-1"></a>      Using: TinyTex</span>
<span id="annotated-cell-29-18"><a href="#annotated-cell-29-18" aria-hidden="true" tabindex="-1"></a>      Path: /xxx/Library/TinyTeX/bin/universal-darwin</span>
<span id="annotated-cell-29-19"><a href="#annotated-cell-29-19" aria-hidden="true" tabindex="-1"></a>      Version: 2024</span>
<span id="annotated-cell-29-20"><a href="#annotated-cell-29-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-29-21"><a href="#annotated-cell-29-21" aria-hidden="true" tabindex="-1"></a>[✓] Checking basic markdown render....OK                </span>
<span id="annotated-cell-29-22"><a href="#annotated-cell-29-22" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-29-23" class="code-annotation-target"><a href="#annotated-cell-29-23" aria-hidden="true" tabindex="-1"></a>[✓] Checking Python 3 installation....OK</span>
<span id="annotated-cell-29-24"><a href="#annotated-cell-29-24" aria-hidden="true" tabindex="-1"></a>      Version: 3.12.2</span>
<span id="annotated-cell-29-25"><a href="#annotated-cell-29-25" aria-hidden="true" tabindex="-1"></a>      Path: /xxx/.pyenv/versions/3.12.2/bin/python3</span>
<span id="annotated-cell-29-26"><a href="#annotated-cell-29-26" aria-hidden="true" tabindex="-1"></a>      Jupyter: 5.7.2</span>
<span id="annotated-cell-29-27"><a href="#annotated-cell-29-27" aria-hidden="true" tabindex="-1"></a>      Kernels: julia-1.10, python3</span>
<span id="annotated-cell-29-28"><a href="#annotated-cell-29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-29-29"><a href="#annotated-cell-29-29" aria-hidden="true" tabindex="-1"></a>[✓] Checking Jupyter engine render....OK                 </span>
<span id="annotated-cell-29-30"><a href="#annotated-cell-29-30" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-29-31" class="code-annotation-target"><a href="#annotated-cell-29-31" aria-hidden="true" tabindex="-1"></a>[✓] Checking R installation...........OK</span>
<span id="annotated-cell-29-32"><a href="#annotated-cell-29-32" aria-hidden="true" tabindex="-1"></a>      Version: 4.3.3</span>
<span id="annotated-cell-29-33"><a href="#annotated-cell-29-33" aria-hidden="true" tabindex="-1"></a>      Path: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources</span>
<span id="annotated-cell-29-34"><a href="#annotated-cell-29-34" aria-hidden="true" tabindex="-1"></a>      LibPaths:</span>
<span id="annotated-cell-29-35"><a href="#annotated-cell-29-35" aria-hidden="true" tabindex="-1"></a>        - /xxx/Library/R/arm64/4.3/library</span>
<span id="annotated-cell-29-36"><a href="#annotated-cell-29-36" aria-hidden="true" tabindex="-1"></a>        - /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library</span>
<span id="annotated-cell-29-37"><a href="#annotated-cell-29-37" aria-hidden="true" tabindex="-1"></a>      knitr: 1.44</span>
<span id="annotated-cell-29-38"><a href="#annotated-cell-29-38" aria-hidden="true" tabindex="-1"></a>      rmarkdown: 2.25</span>
<span id="annotated-cell-29-39"><a href="#annotated-cell-29-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-29-40"><a href="#annotated-cell-29-40" aria-hidden="true" tabindex="-1"></a>[✓] Checking Knitr engine render......OK</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div id="fig-quarto-check" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-quarto-check-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div style="text-align: left">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-29" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="1" data-code-annotation="1">Quarto version</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="3,4,5,6" data-code-annotation="2">Internal dependencies</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="9,10" data-code-annotation="3">Quarto installation</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="13,14" data-code-annotation="4">Tools installed by Quarto</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="16,17,18,19" data-code-annotation="5">LaTeX</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="23,24,25,26,27" data-code-annotation="6">Python</span>
</dd>
<dt data-target-cell="annotated-cell-29" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-29" data-code-lines="31,32,33,34,35,36,37,38" data-code-annotation="7">R</span>
</dd>
</dl>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-quarto-check-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.11: An example of the result of running <code>quarto check</code>
</figcaption>
</figure>
</div>
</section>
<section id="sec-computational-errors" class="level3" data-number="7.7.2">
<h3 data-number="7.7.2" class="anchored" data-anchor-id="sec-computational-errors"><span class="header-section-number">7.7.2</span> Errors from the computational engine</h3>
<p>If your Quarto document fails to make it through the computational engine, the culprit is likely one of the following three issues:</p>
<ul>
<li><p>The wrong engine is being used.</p></li>
<li><p>The environment Quarto sees isn’t the one you expect.</p></li>
<li><p>Your code has errors in it.</p></li>
</ul>
<section id="wrong-engine" class="level4" data-number="7.7.2.1">
<h4 data-number="7.7.2.1" class="anchored" data-anchor-id="wrong-engine"><span class="header-section-number">7.7.2.1</span> Wrong Engine</h4>
<p>The heuristics Quarto uses when selecting an engine can sometimes be wrong. If you see some indication Knitr is running when you expected Jupyter, override the automatic choice by explicitly setting the engine with the <code>engine</code> key:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">engine</span><span class="kw">:</span><span class="at"> jupyter</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>If you want the <code>julia</code> engine, Quarto will never automatically select it; you must opt-in via the <code>engine</code> key.</p>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Avoiding execution
</div>
</div>
<div class="callout-body-container callout-body">
<p>For the purpose of choosing an engine, a code cell with the option <code>eval: false</code> is still considered an executable code cell, even though the code inside will not be executed. This means you might see an engine starting even if you’ve set <code>eval: false</code> at the document level. To avoid even starting an engine, and executing any code, you can explicitly use the <code>markdown</code> engine:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">engine</span><span class="kw">:</span><span class="at"> markdown</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="wrong-environment" class="level4" data-number="7.7.2.2">
<h4 data-number="7.7.2.2" class="anchored" data-anchor-id="wrong-environment"><span class="header-section-number">7.7.2.2</span> Wrong Environment</h4>
<p>The usual symptom of Quarto not using the right environment is the failure to load packages you are sure you installed. Troubleshooting your environment is language-specific, and you should refer back to the relevant sections of <a href="r.html" class="quarto-xref"><span>Chapter 9</span></a>, <a href="python.html" class="quarto-xref"><span>Chapter 10</span></a>, and <a href="julia.html" class="quarto-xref"><span>Chapter 11</span></a>.</p>
</section>
<section id="code-errors" class="level4" data-number="7.7.2.3">
<h4 data-number="7.7.2.3" class="anchored" data-anchor-id="code-errors"><span class="header-section-number">7.7.2.3</span> Code Errors</h4>
<p>When the code in your executable code cells generates an error, the computational engine will halt and Quarto will exit. <a href="#fig-errors" class="quarto-xref">Figure&nbsp;<span>7.12</span></a> shows an example of this for the three engines–—in all cases the code cell producing the error requests the variable <code>x</code> which hasn’t been defined. The output differs by engine, but you’ll generally see the engine start progressing through the cells (e.g.&nbsp;<code>Cell 1/1</code> in <a href="#fig-errors-jupyter" class="quarto-xref">Figure&nbsp;<span>7.12 (a)</span></a>) then an error report native to the language of your cells (e.g.&nbsp;<code>NameError: name 'x' is not defined</code> from Python in <a href="#fig-errors-jupyter" class="quarto-xref">Figure&nbsp;<span>7.12 (a)</span></a>).</p>
<div id="fig-errors" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-errors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="fig-errors-jupyter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-errors-jupyter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>Executing 'python-error.quarto_ipynb'</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  Cell 1/1: ''...ERROR: </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>An error occurred while executing the following cell:</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>------------------</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>------------------</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>-------------------------------------------------------</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>NameError             Traceback (most recent call last)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>Cell In[2], line 1</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>----&gt; 1 x</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>NameError: name 'x' is not defined</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-errors-jupyter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) A computational error when using the <code>jupyter</code> engine
</figcaption>
</figure>
</div>
<div id="fig-errors-knitr" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-errors-knitr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>processing file: r-error.qmd</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>1/2                  </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>2/2 [unnamed-chunk-1]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>Quitting from lines 7-8 [unnamed-chunk-1] (r-error.qmd)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>Error:</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>! object 'x' not found</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>Execution halted</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-errors-knitr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) A computational error when using the <code>knitr</code> engine
</figcaption>
</figure>
</div>
<div id="fig-errors-julia" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-errors-julia-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>Running [1/1] at line 7:  x</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>ERROR: Julia server returned error after receiving "run" command:</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>Failed to run notebook: /Users/charlottewickham/Documents/posit/weekly-log/2024-09-30/julia-error.qmd</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>ERROR: EvaluationError: Encountered 1 error during evaluation</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>Error 1 of 1</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>@ /Users/charlottewickham/Documents/posit/weekly-log/2024-09-30/julia-error.qmd:7</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>UndefVarError: `x` not defined</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-errors-julia-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) A computational error when using the <code>julia</code> engine
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-errors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7.12: Example output from <code>quarto render</code> when there is an execution error.
</figcaption>
</figure>
</div>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Keeping an error in your output
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you want to show an error in your document, set the option <code>error: true</code> in the corresponding code cell. This will prevent the error from halting execution, and include the error message in your rendered document.</p>
</div>
</div>
<p>You are now in the realm of debugging your R, Python, or Julia code. The first way to make your life easier is to label your code cells:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: get-x</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>When the engines process your code cells, they will include the label, helping you to identify which code cell caused the error quickly.</p>
<p>If the error isn’t obvious, run your code from top to bottom interactively in a clean session of your interpreter.</p>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Run all
</div>
</div>
<div class="callout-body-container callout-body">
<p>In RStudio, use the command <strong>Restart R Session and Run All Chunks</strong>.</p>
<p>In the Quarto extension for VS Code and Positron, use the command <strong>Quarto: Run All Cells</strong>.</p>
</div>
</div>
</section>
</section>
<section id="things-that-arent-errors" class="level3" data-number="7.7.3">
<h3 data-number="7.7.3" class="anchored" data-anchor-id="things-that-arent-errors"><span class="header-section-number">7.7.3</span> Things that aren’t errors</h3>
<p>Some problems don’t rise to the level of errors. You might get output from <code>quarto render</code> but it might not look right. In this case, a general troubleshooting process might look like:</p>
<ul>
<li><p>Verify you’re working with the current release of Quarto (e.g.&nbsp;with <code>quarto check</code>).</p></li>
<li><p>Find an example of what you are trying to do in the documentation and verify it works. If it does work, gradually alter it to match your example, until it no longer works—you’ll either discover what you are doing wrong, or you’ll produce a minimal reproducible example.</p></li>
<li><p>Ask for help using your reproducible example.</p></li>
</ul>
</section>
<section id="asking-for-help" class="level3" data-number="7.7.4">
<h3 data-number="7.7.4" class="anchored" data-anchor-id="asking-for-help"><span class="header-section-number">7.7.4</span> Asking for help</h3>
<p>If you can’t figure out the problem yourself, your next step is to ask someone. A good question includes:</p>
<ul>
<li>A description of your problem, including what you expected to happen and what actually happened.</li>
<li>A minimal reproducible example (see <a href="publishing.html#sec-repro" class="quarto-xref"><span>Section 6.7.1</span></a>).</li>
<li>The output from <code>quarto check</code>.</li>
</ul>
<p>Some good venues to ask questions are the <a href="https://github.com/quarto-dev/quarto-cli/discussions">discussion board on the <code>quarto-cli</code> repository</a> and <a href="https://forum.posit.co">Posit community</a>.</p>
<!-- 
## Misc

What about the `./quarto` folder?
Why is it automatically added to `.gitignore`? -->
</section>
</section>
<section id="wrapping-up" class="level2" data-number="7.8">
<h2 data-number="7.8" class="anchored" data-anchor-id="wrapping-up"><span class="header-section-number">7.8</span> Wrapping Up</h2>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>We use lower-case engine names, e.g.&nbsp;<code>knitr</code> vs.&nbsp;Knitr, because a computational engine is more than the tool that does the execution. For example, although the Jupyter project <a href="https://github.com/jupyter/nbclient">NBClient</a> does the execution when the engine is <code>jupyter</code>, the <code>jupyter</code> engine also encompasses translating the <code>.qmd</code> to an <code>.ipynb</code> and back again after execution—tasks that are handled by Quarto itself.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Quarto includes a particular version of Pandoc. You don’t need to install or manage it separately, and it won’t interfere with any other version of Pandoc you have installed. If you ever need to run Quarto’s Pandoc, you can with <code>quarto pandoc</code>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Most shortcodes are implemented as filters, but there are two exceptions <code>include</code> and <code>embed</code>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/quarto-tdg\.org\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./publishing.html" class="pagination-link" aria-label="Publishing">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Publishing</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./yaml.html" class="pagination-link" aria-label="Setting options with YAML">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Setting options with YAML</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Quarto: The Practical Guide was written by Mine Çetinkaya-Rundel and Charlotte Wickham.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/mine-cetinkaya-rundel/quarto-tdg/edit/main/look-under-hood.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/mine-cetinkaya-rundel/quarto-tdg/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>